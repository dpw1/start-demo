{"version":3,"sources":["utils.js","store/store.js","HomepageSettings.js","TextContentBlock.js","images/example-1.png","images/related-products.jpg","Tutorial.js","TotalProducts.js","App.js","reportWebVitals.js","index.js"],"names":["window","ezfyCategories","defaultSettings","isEnabled","appTitle","enableAddToCart","enableSecondImageOnHover","sanitizeUpsellProducts","_x","_sanitizeUpsellProducts","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee4","products","wrap","_context4","prev","next","abrupt","Promise","_ref3","_callee3","resolve","reject","productsWithUpsells","totalOptions","result","_iterator2","_step2","each","parentID","bundle","_iterator3","_step3","_upsell","upsell","categoryProducts","_iterator4","_step4","categoryProduct","finalResult","_context3","console","log","items","filter","e","relatedProducts","productIds","length","relatedCategory","enabled","hasOwnProperty","options","_createForOfIteratorHelper","s","n","done","value","id","inStock","push","name","thumbnailUrl","defaultDisplayedPriceFormatted","compareToPriceDiscountFormatted","compareToPriceFormatted","url","err","f","getProductsFromCategoryWithId","categoryId","productCount","sent","_toConsumableArray","Set","map","o","find","obj","t0","finish","upsellProducts","stop","_x6","_x7","undefined","quantity","_ref","_callee","categoriesURL","_yield$axios$get","data","found","_context","test","location","href","concat","process","EcwidApp","getPayload","store_id","access_token","axios","get","store__products","getProducts","categoryIds","includes","sort","Math","random","slice","_x2","_x3","removeUnavailableProducts","_ref2","_callee2","productsURL","_yield$axios$get2","_products","_context2","_x4","_x5","useStore","create","subscribeWithSelector","set","settings","visibleProducts","popupVisibleProducts","activeFilters","populateProducts","_populateProducts","updateVisibleProducts","_updateVisibleProducts","updatePopupVisibleProducts","_updatePopupVisibleProducts","getProductById","parseInt","_upsellProducts","_callee5","_context5","setStoreUpsellProducts","addUpsellProduct","_addUpsellProduct","_callee6","bundleID","bundleProducts","_parentProduct","parentProduct","parent","bundleProduct","existingBundles","currentProduct","_bundle","_updated","updated","payload","_context6","_existing","Symbol","iterator","Object","JSON","stringify","setAppPublicConfig","error","getUpsellProductById","_getUpsellProductById","_callee7","res","_context7","deleteUpsellProductById","_deleteUpsellProductById","_callee8","updatedBundle","_context8","_x8","_x9","setSettings","_setSettings","_callee9","newSettings","currentSettings","updatedSettings","_context9","Error","assign","_x10","setActiveFilters","_setActiveFilters","_callee10","newFilters","_args10","_context10","getCurrentPopupProduct","setCurrentPopupProduct","HomepageSettings","state","_useState","useState","_useState2","_slicedToArray","setIsEnabled","_useState3","_useState4","setEnableSecondImageOnHover","_useState5","_useState6","setAppTitle","_useState7","_useState8","setEnableAddToCart","useEffect","_jsxs","className","children","_jsx","checked","onChange","type","data-on","data-off","placeholder","title","target","TextContentBlock","props","additionalDescription","subtitle","description","Tutorial","rel","src","relatedProductsImage","alt","example","TotalProducts","totalWithUpsell","setTotalWithUpsell","setProducts","subscribe","t1","data-total-products","xmlns","xmlnsXlink","viewBox","xmlSpace","d","focusable","_Fragment","version","App","setStoreData","setUpsellProducts","initiated","setInitiated","initDatabaseOnFirstInstall","parse","initial","getAppPublicConfig","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.957bdde3.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nwindow.ezfyCategories = null;\r\n\r\nexport const defaultSettings = {\r\n  isEnabled: true,\r\n  appTitle: `Complete your purchase`,\r\n  enableAddToCart: true,\r\n  enableSecondImageOnHover: true,\r\n};\r\n\r\nexport function getProductURLHref(productID) {\r\n  const id = /localhost/.test(window.location.href)\r\n    ? \"37374877\"\r\n    : window.EcwidApp.getPayload().store_id;\r\n\r\n  const url = `https://my.ecwid.com/store/${id}#product:mode=edit&id=${productID}`;\r\n\r\n  return url;\r\n}\r\n\r\nexport const availableFilters = [\r\n  {\r\n    value: \"show_products_with_upsell\",\r\n    label: \"Show only products with upsells\",\r\n  },\r\n  /* TODO - alphabetical order, recently added, hide disabled */\r\n];\r\n\r\nexport function sleep(ms) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function findEqualById(arr1, arr2) {\r\n  try {\r\n    return arr1.filter((obj1) => arr2.some((obj2) => obj2.id === obj1.id));\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function overwriteById(arr, newObj) {\r\n  try {\r\n    const updatedArray = arr.map((obj) =>\r\n      obj.id === newObj.id ? newObj : obj,\r\n    );\r\n    return updatedArray;\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n}\r\n\r\n/* Returns object of new visible products */\r\nexport function applyFiltersOnProducts(\r\n  visibleProducts,\r\n  upsellProducts,\r\n  activeFilters,\r\n) {\r\n  if (!activeFilters || activeFilters.length <= 0) {\r\n    return visibleProducts;\r\n  }\r\n\r\n  var products = JSON.parse(JSON.stringify(visibleProducts));\r\n\r\n  for (var each of activeFilters) {\r\n    if (each.value === \"show_products_with_upsell\") {\r\n      console.log(\"apply upd - products\", products, upsellProducts);\r\n\r\n      var filtered = findEqualById(products.items, upsellProducts);\r\n\r\n      console.log(\"apply - filtered\", filtered);\r\n      products.items = filtered;\r\n\r\n      return products;\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\nCleans the bundle products removing all unnecessary properties. \r\n\r\nRequires an object like this:\r\n\r\n[\r\n    {\r\n    \"id\": 123,\r\n    \"bundle\": [\r\n            {\r\n            \"id\": 109109109,\r\n            sku: sdiasjdkajs\r\n            },\r\n            {\r\n            \"id\": 111,\r\n            sku: xxx\r\n            }\r\n        ]\r\n    }\r\n]\r\n*/\r\nexport async function sanitizeUpsellProducts(products) {\r\n  return new Promise(async (resolve, reject) => {\r\n    console.log(\"within sanitze:  \", products);\r\n\r\n    const productsWithUpsells = products.items.filter(\r\n      (e) =>\r\n        e.relatedProducts.productIds.length >= 1 ||\r\n        e.relatedProducts.relatedCategory.enabled,\r\n    );\r\n\r\n    let totalOptions = (upsell) => {\r\n      if (upsell.hasOwnProperty(\"options\")) {\r\n        return upsell.options.length;\r\n      }\r\n\r\n      if (upsell.hasOwnProperty(\"totalOptions\")) {\r\n        return upsell.totalOptions;\r\n      }\r\n\r\n      return 0;\r\n    };\r\n\r\n    var result = [];\r\n\r\n    for (var each of productsWithUpsells) {\r\n      var parentID = each.id;\r\n      var bundle = [];\r\n\r\n      if (!each.enabled || !each.inStock) {\r\n        continue;\r\n      }\r\n\r\n      for (var _upsell of each.relatedProducts.productIds) {\r\n        var upsell = products.items.filter((e) => e.id === _upsell)[0];\r\n\r\n        bundle.push({\r\n          id: upsell.id,\r\n          name: upsell.name,\r\n          thumbnailUrl: upsell.thumbnailUrl,\r\n          defaultDisplayedPriceFormatted: upsell.defaultDisplayedPriceFormatted,\r\n          compareToPriceDiscountFormatted:\r\n            upsell.compareToPriceDiscountFormatted,\r\n          compareToPriceFormatted: upsell.compareToPriceFormatted,\r\n          url: upsell.url,\r\n          totalOptions: totalOptions(upsell),\r\n        });\r\n      }\r\n\r\n      /* Random categories here */\r\n      if (each.relatedProducts.relatedCategory.enabled) {\r\n        const categoryProducts = await getProductsFromCategoryWithId(\r\n          each.relatedProducts.relatedCategory.categoryId,\r\n          each.relatedProducts.relatedCategory.productCount,\r\n        );\r\n\r\n        for (var categoryProduct of categoryProducts) {\r\n          bundle.push({\r\n            id: categoryProduct.id,\r\n            name: categoryProduct.name,\r\n            thumbnailUrl: categoryProduct.thumbnailUrl,\r\n            defaultDisplayedPriceFormatted:\r\n              categoryProduct.defaultDisplayedPriceFormatted,\r\n            compareToPriceDiscountFormatted:\r\n              categoryProduct.compareToPriceDiscountFormatted,\r\n            compareToPriceFormatted: categoryProduct.compareToPriceFormatted,\r\n            url: categoryProduct.url,\r\n            totalOptions: totalOptions(categoryProduct),\r\n          });\r\n        }\r\n      }\r\n\r\n      result.push({\r\n        id: parentID,\r\n        bundle: [...new Set(bundle.map((o) => o.id))].map((id) =>\r\n          bundle.find((obj) => obj.id === id),\r\n        ),\r\n      });\r\n    }\r\n\r\n    const finalResult = [...new Set(result.map((o) => o.id))].map((id) =>\r\n      result.find((obj) => obj.id === id),\r\n    );\r\n    window.upsellProducts = finalResult;\r\n    console.log(\"Products with upsells: \", finalResult);\r\n\r\n    resolve(finalResult);\r\n  });\r\n}\r\n\r\n/* Category ID */\r\nfunction getProductsFromCategoryWithId(id = 0, quantity = 5) {\r\n  return new Promise(async (resolve, reject) => {\r\n    let categories = [];\r\n\r\n    if (window.ezfyCategories) {\r\n      categories = window.ezfyCategories;\r\n    } else {\r\n      const categoriesURL = /localhost/.test(window.location.href)\r\n        ? /* local dev */\r\n          `https://app.ecwid.com/api/v3/37374877/categories?token=${process.env.REACT_APP_TOKEN}&offset=0`\r\n        : /* production */\r\n          `https://app.ecwid.com/api/v3/${\r\n            window.EcwidApp.getPayload().store_id\r\n          }/categories?token=${\r\n            window.EcwidApp.getPayload().access_token\r\n          }&offset=0`;\r\n\r\n      const { data } = await axios.get(categoriesURL);\r\n\r\n      window.ezfyCategories = data.items;\r\n      categories = data.items;\r\n    }\r\n\r\n    let products = [];\r\n\r\n    if (window.store__products) {\r\n      products = window.store__products;\r\n    } else {\r\n      products = await getProducts();\r\n    }\r\n\r\n    let found = [];\r\n\r\n    /* get products from specific category */\r\n    if (products && products.length >= 1) {\r\n      if (id !== 0) {\r\n        if (products && products.length >= 1) {\r\n          found = products.filter((e) => e.categoryIds.includes(id));\r\n        }\r\n      } else {\r\n        /* get random products */\r\n\r\n        found = products.sort(() => Math.random() - 0.5).slice(0, quantity);\r\n      }\r\n    }\r\n\r\n    resolve(found);\r\n  });\r\n}\r\n\r\nexport function removeUnavailableProducts(products) {\r\n  return products\r\n    .filter((e) => {\r\n      if (e.enabled && e.inStock) {\r\n        return e;\r\n      } else {\r\n        return null;\r\n      }\r\n    })\r\n    .filter((e) => e !== null);\r\n}\r\n\r\nexport function getProducts() {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (window.hasOwnProperty(\"store__products\")) {\r\n      resolve(window.store__products);\r\n      return;\r\n    }\r\n    const productsURL = /localhost/.test(window.location.href)\r\n      ? /* local dev */\r\n        `https://app.ecwid.com/api/v3/37374877/products?token=${process.env.REACT_APP_TOKEN}`\r\n      : /* production */\r\n        `https://app.ecwid.com/api/v3/${\r\n          window.EcwidApp.getPayload().store_id\r\n        }/products?token=${window.EcwidApp.getPayload().access_token}`;\r\n\r\n    const { data: _products } = await axios.get(productsURL);\r\n    const products = removeUnavailableProducts(_products.items);\r\n\r\n    window.store__products = products;\r\n\r\n    resolve(products);\r\n  });\r\n}\r\n\r\n/* Todo \r\ninject.js\r\n\r\n- fix 'data-total-options'\r\n- data-ezfy-products-quantity must be rendered in front-end. Just render \"getProductsFromCategoryWithId\" on inject.js\r\n*/\r\n","import create from \"zustand\";\r\nimport axios from \"axios\";\r\nimport {\r\n  defaultSettings,\r\n  overwriteById,\r\n  sanitizeUpsellProducts,\r\n} from \"../utils\";\r\n\r\nimport { subscribeWithSelector } from \"zustand/middleware\";\r\n\r\nconst productsURL = /localhost/.test(window.location.href)\r\n  ? /* local dev */\r\n    `https://app.ecwid.com/api/v3/37374877/products?token=${process.env.REACT_APP_TOKEN}`\r\n  : /* production */\r\n    `https://app.ecwid.com/api/v3/${\r\n      window.EcwidApp.getPayload().store_id\r\n    }/products?token=${window.EcwidApp.getPayload().access_token}`;\r\n\r\nconst useStore = create(\r\n  subscribeWithSelector((set, get) => ({\r\n    /* ## API PRODUCTS\r\n    ==================================== */\r\n\r\n    /* ===============\r\n    App settings */\r\n    settings: defaultSettings,\r\n\r\n    /* ===============\r\n    All products on the store */\r\n    products: [],\r\n\r\n    /* ===============\r\n    Products that are being searched/currently visible. */\r\n    visibleProducts: [],\r\n\r\n    /* ===============\r\n    Products that are being searched/currently visible within a popup */\r\n    popupVisibleProducts: [],\r\n\r\n    /* ===============\r\n    All filters to visualize products */\r\n    activeFilters: [],\r\n\r\n    /* ===============\r\n    Get store's products and add them to the store's 'products' variable */\r\n    populateProducts: async () => {\r\n      const url = productsURL;\r\n\r\n      const { data: products } = await axios.get(url);\r\n\r\n      window.store__products = products;\r\n\r\n      set({\r\n        products,\r\n        visibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* ===============\r\n    Update store's products. Typically used for search */\r\n    updateVisibleProducts: async (products) => {\r\n      set({\r\n        visibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* ===============\r\n    Update popup visible products. Typically used for search */\r\n    updatePopupVisibleProducts: async (products) => {\r\n      set({\r\n        popupVisibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* Get a product from the customer's catalog by ID API  */\r\n    getProductById: (id) => {\r\n      return get().products.items.filter((e) => e.id === parseInt(id))[0];\r\n    },\r\n\r\n    /* ## UPSELL PRODUCTS [DEPRECATED] - using only ecwid's related products now.\r\n    ==================================== */\r\n\r\n    /* Get Bundle products that will show up at the front-end. */\r\n    upsellProducts: async () => {\r\n      return new Promise(async (resolve, reject) => {\r\n        const url = productsURL;\r\n\r\n        const { data: products } = await axios.get(url);\r\n\r\n        const upsellProducts = await sanitizeUpsellProducts(products);\r\n        window.upsellProducts = upsellProducts;\r\n\r\n        set({\r\n          upsellProducts,\r\n        });\r\n\r\n        resolve(upsellProducts);\r\n        return;\r\n      });\r\n      if (window.EcwidApp && window.EcwidApp.getPayload()) {\r\n      }\r\n    },\r\n\r\n    setStoreUpsellProducts: (data) => {\r\n      console.log(\"data: \", data);\r\n      set({\r\n        upsellProducts: data,\r\n      });\r\n    },\r\n\r\n    /* Adds a product to the upsell */\r\n    addUpsellProduct: async (parentID, bundleID) => {\r\n      let bundle;\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      const _parentProduct =\r\n        bundleProducts.length >= 1 &&\r\n        bundleProducts.filter((e) => e.id === parentID);\r\n\r\n      let parentProduct = _parentProduct.length >= 1 ? _parentProduct[0] : null;\r\n\r\n      /* Adds parent to bundle to show it up on front-end later on */\r\n      const parent = get().getProductById(parentID);\r\n\r\n      const bundleProduct = get().getProductById(bundleID);\r\n\r\n      /* If it's an already existing product, adds the extra bundle to it */\r\n      if (parentProduct) {\r\n        const existingBundles = () => {\r\n          const _existing = parentProduct.bundle;\r\n\r\n          if (Symbol.iterator in Object(_existing)) {\r\n            return [..._existing];\r\n          }\r\n\r\n          return [_existing];\r\n        };\r\n\r\n        bundle = [...existingBundles(), bundleProduct];\r\n\r\n        bundleProducts = bundleProducts.filter((e) => e.id !== parentID);\r\n\r\n        console.log(bundleProducts);\r\n      }\r\n\r\n      /* In this \"one-line-if-else\", if the product is having a bundle for the first time,\r\n      it is added to the last line, adding both the parent and the first bundle. ([parent, bundleProduct]) */\r\n      const currentProduct = {\r\n        id: parentID,\r\n        bundle:\r\n          bundle && bundle.length >= 1\r\n            ? [...new Set(bundle)]\r\n            : [parent, bundleProduct],\r\n      };\r\n\r\n      const _bundle =\r\n        Symbol.iterator in Object(bundleProducts) ? [...bundleProducts] : [];\r\n\r\n      const _updated = [..._bundle, currentProduct];\r\n      const updated = await sanitizeUpsellProducts(_updated);\r\n\r\n      console.log(\"updated -- \", updated);\r\n\r\n      /* Save into Ecwid's database */\r\n      if (window.EcwidApp) {\r\n        const settings = await get().settings;\r\n\r\n        try {\r\n          const payload = JSON.stringify({ settings, upsellProducts: updated });\r\n\r\n          console.log(\"payload: \", { upsellProducts: updated });\r\n\r\n          window.EcwidApp.setAppPublicConfig(payload, function () {\r\n            console.log(\"New upsell product saved!\");\r\n          });\r\n        } catch (err) {\r\n          console.error(\r\n            \"Couldn't save upsell product. [store.js - addUpsellProduct()]\",\r\n          );\r\n        }\r\n      }\r\n\r\n      console.log(\"updated: \", updated);\r\n\r\n      set({\r\n        upsellProducts: updated,\r\n      });\r\n    },\r\n\r\n    /* Get the bundle/upsell products of a specific product ID */\r\n    getUpsellProductById: async (id) => {\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      const upsell = bundleProducts.filter((e) => e.id === id);\r\n\r\n      const res = upsell.length >= 1 ? upsell[0].bundle : [];\r\n      console.log(\"Bundle products:\", upsell, bundleProducts, id, res);\r\n      return res;\r\n    },\r\n\r\n    deleteUpsellProductById: async (parentID, bundleID) => {\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      let updated = [];\r\n\r\n      const parent = bundleProducts.find((e) => e.id === parentID);\r\n\r\n      if (!parent) {\r\n        console.log(\"parent is undefined!!!\");\r\n        return;\r\n      }\r\n\r\n      console.log(\"deleted bundle from parent: \", parent, parentID, bundleID);\r\n      const updatedBundle = parent.bundle.filter((e) => e.id !== bundleID);\r\n\r\n      /* If deleting the last item, remove parent as well.\r\n    We use the number \"1\" because we always add the parent as an upsell. */\r\n      if (updatedBundle.length <= 1) {\r\n        updated = bundleProducts.filter((e) => e.id !== parentID);\r\n      } else {\r\n        updated = bundleProducts;\r\n      }\r\n\r\n      parent.bundle = updatedBundle;\r\n\r\n      console.log(\"Updated after delete: \", updated);\r\n\r\n      if (window.EcwidApp) {\r\n        const settings = await get().settings;\r\n\r\n        try {\r\n          window.EcwidApp.setAppPublicConfig(\r\n            JSON.stringify({ settings, upsellProducts: updated }),\r\n            function () {\r\n              console.log(\"Public config saved!\");\r\n            },\r\n          );\r\n\r\n          console.log(\"Saved upsell products in Database\");\r\n        } catch (err) {}\r\n      }\r\n\r\n      set({\r\n        upsellProducts: updated,\r\n      });\r\n    },\r\n\r\n    setSettings: async (newSettings) => {\r\n      if (!newSettings) {\r\n        throw new Error(\"no settings object\");\r\n      }\r\n\r\n      const upsellProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      const currentSettings = await get().settings;\r\n\r\n      var updatedSettings = Object.assign({}, currentSettings, newSettings);\r\n\r\n      if (window.EcwidApp) {\r\n        try {\r\n          const payload = { settings: updatedSettings, upsellProducts };\r\n\r\n          window.EcwidApp.setAppPublicConfig(\r\n            JSON.stringify(payload),\r\n            function (e) {\r\n              console.log(\"Public config saved. Payload: \", payload);\r\n            },\r\n          );\r\n\r\n          console.log(\"Saved settings in Database\");\r\n        } catch (err) {}\r\n      }\r\n\r\n      set({\r\n        settings: updatedSettings,\r\n      });\r\n    },\r\n\r\n    setActiveFilters: async (newFilters = null) => {\r\n      if (!newFilters) {\r\n        return;\r\n      }\r\n\r\n      console.log(newFilters);\r\n\r\n      set({\r\n        activeFilters: newFilters,\r\n      });\r\n    },\r\n\r\n    /* ## POPUP PRODUCTS\r\n    ==================================== */\r\n\r\n    /* Get current product being edited in the Popup. */\r\n    getCurrentPopupProduct: undefined,\r\n\r\n    /* Updates current product being edited in the popup. */\r\n    setCurrentPopupProduct: (id) => {\r\n      set({\r\n        getCurrentPopupProduct: id,\r\n      });\r\n    },\r\n  })),\r\n);\r\n\r\nexport { useStore };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./HomepageSettings.scss\";\r\n\r\nimport { useStore } from \"./store/store\";\r\nimport { defaultSettings } from \"./utils\";\r\n\r\nexport default function HomepageSettings() {\r\n  /* The settings below must be synced with utils.js 'defaultSettings */\r\n\r\n  const setSettings = useStore((state) => state.setSettings);\r\n\r\n  const [isEnabled, setIsEnabled] = useState(defaultSettings.isEnabled);\r\n  const [enableSecondImageOnHover, setEnableSecondImageOnHover] = useState(\r\n    defaultSettings.enableSecondImageOnHover,\r\n  );\r\n  const [appTitle, setAppTitle] = useState(defaultSettings.appTitle);\r\n  const [enableAddToCart, setEnableAddToCart] = useState(\r\n    defaultSettings.enableAddToCart,\r\n  );\r\n  const settings = useStore((state) => state.settings);\r\n\r\n  useEffect(() => {\r\n    setIsEnabled(settings.isEnabled);\r\n  }, [settings]);\r\n\r\n  return (\r\n    <div className=\"HomepageSettings\">\r\n      <div className=\"HomepageSettings-item HomepageSettings-item--checkbox form-area__content form-area__content--no-margin\">\r\n        <div className=\"HomepageSettings-description\">\r\n          <p className=\"HomepageSettings-text\">Show on checkout page</p>\r\n\r\n          <p className=\"HomepageSettings-subtitle\">\r\n            {isEnabled ? (\r\n              `The app is enabled on the storefront.`\r\n            ) : (\r\n              <span>\r\n                The app is <b>not</b> enabled on the storefront.\r\n              </span>\r\n            )}\r\n          </p>\r\n        </div>\r\n        <div className=\"HomepageSettings-setting text-default\">\r\n          <label className=\"checkbox micro\">\r\n            <input\r\n              name=\"\"\r\n              checked={isEnabled}\r\n              onChange={() => {\r\n                setIsEnabled(!isEnabled);\r\n                setSettings({\r\n                  isEnabled: !isEnabled,\r\n                });\r\n                return;\r\n              }}\r\n              type=\"checkbox\"\r\n            />{\" \"}\r\n            <div\r\n              className=\"HomepageSettings-text\"\r\n              data-on=\"App is enabled on the storefront\"\r\n              data-off=\"App is disabled\">\r\n              {\" \"}\r\n              <div />{\" \"}\r\n            </div>\r\n          </label>\r\n        </div>{\" \"}\r\n      </div>\r\n\r\n      <div className=\"HomepageSettings-item form-area__content form-area__content--no-margin\">\r\n        <div className=\"HomepageSettings-description\">\r\n          <p className=\"HomepageSettings-text\">App's title</p>\r\n\r\n          <p className=\"HomepageSettings-subtitle\">\r\n            Text that is displayed above the carousel on the checkout page.\r\n          </p>\r\n        </div>\r\n        <div className=\"HomepageSettings-setting text-default\">\r\n          <div className=\"HomepageSettings-field field\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"field__input\"\r\n              placeholder=\"Carousel title\"\r\n              value={appTitle}\r\n              onChange={(e) => {\r\n                const title = e.target.value;\r\n                setAppTitle(title);\r\n                setSettings({\r\n                  appTitle: title,\r\n                });\r\n              }}\r\n            />{\" \"}\r\n          </div>\r\n        </div>{\" \"}\r\n      </div>\r\n\r\n      <div className=\"HomepageSettings-item HomepageSettings-item--checkbox form-area__content form-area__content--no-margin\">\r\n        <div className=\"HomepageSettings-description\">\r\n          <p className=\"HomepageSettings-text\">Enable quick add to cart</p>\r\n\r\n          <p className=\"HomepageSettings-subtitle\">\r\n            Show \"add to cart\" button below product's price.\r\n          </p>\r\n        </div>\r\n        <div className=\"HomepageSettings-setting text-default\">\r\n          <label className=\"checkbox micro\">\r\n            <input\r\n              name=\"\"\r\n              checked={enableAddToCart}\r\n              onChange={() => {\r\n                setEnableAddToCart(!enableAddToCart);\r\n\r\n                setSettings({\r\n                  enableAddToCart: !enableAddToCart,\r\n                });\r\n                return;\r\n              }}\r\n              type=\"checkbox\"\r\n            />{\" \"}\r\n            <div className=\"HomepageSettings-text\" data-on={``} data-off=\"\">\r\n              {\" \"}\r\n              <div />{\" \"}\r\n            </div>\r\n          </label>\r\n        </div>{\" \"}\r\n      </div>\r\n\r\n      <div className=\"HomepageSettings-item HomepageSettings-item--checkbox form-area__content form-area__content--no-margin\">\r\n        <div className=\"HomepageSettings-description\">\r\n          <p className=\"HomepageSettings-text\">Show second image on hover</p>\r\n\r\n          <p className=\"HomepageSettings-subtitle\">\r\n            Show product's second image when hovering over the main image.\r\n          </p>\r\n        </div>\r\n        <div className=\"HomepageSettings-setting text-default\">\r\n          <label className=\"checkbox micro\">\r\n            <input\r\n              name=\"\"\r\n              checked={enableSecondImageOnHover}\r\n              onChange={() => {\r\n                setEnableSecondImageOnHover(!enableSecondImageOnHover);\r\n\r\n                setSettings({\r\n                  enableSecondImageOnHover: !enableSecondImageOnHover,\r\n                });\r\n                return;\r\n              }}\r\n              type=\"checkbox\"\r\n            />{\" \"}\r\n            <div className=\"HomepageSettings-text\" data-on={``} data-off=\"\">\r\n              {\" \"}\r\n              <div />{\" \"}\r\n            </div>\r\n          </label>\r\n        </div>{\" \"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./TextContentBlock.scss\";\r\n\r\nexport default function TextContentBlock(props) {\r\n  return (\r\n    <div className=\"TextContentBlock\">\r\n      <h2 className=\"TextContentBlock-title\">{props.title}</h2>\r\n      <p className=\"TextContentBlock-description TextContentBlock-additional-description\">\r\n        {props.additionalDescription}\r\n      </p>\r\n\r\n      <div className=\"TextContentBlock-container\">\r\n        <div className=\"TextContentBlock-left\">\r\n          <h3 className=\"TextContentBlock-subtitle\">{props.subtitle}</h3>\r\n          <p className=\"TextContentBlock-description\">\r\n            {props.description && typeof props.description === \"function\"\r\n              ? props.description()\r\n              : props.description}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"TextContentBlock-right\">{props.children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/example-1.2dbf34c7.png\";","export default __webpack_public_path__ + \"static/media/related-products.0e053d75.jpg\";","import React from \"react\";\r\nimport \"./Tutorial.scss\";\r\nimport example from \"./images/example-1.png\"; // Import the image\r\nimport relatedProductsImage from \"./images/related-products.jpg\"; // Import the image\r\n\r\nexport default function Tutorial() {\r\n  return (\r\n    <div className=\"Tutorial\">\r\n      <div className=\"Tutorial-container\">\r\n        <div className=\"Tutorial-left\">\r\n          <p className=\"HomepageSettings-text Text--h3\">\r\n            Related products carousel on the checkout page with quick view & add\r\n            to cart\r\n          </p>\r\n          <div className=\"Text--p\">\r\n            This app creates a carousel featuring products related to what your\r\n            customer has added to their cart.\r\n          </div>\r\n\r\n          <br />\r\n\r\n          <div className=\"Text--p\">\r\n            Here's how you can configure the products to appear:\r\n          </div>\r\n          <ol>\r\n            <li className=\"Text--p\">\r\n              <a\r\n                target=\"_blank\"\r\n                href=\"https://my.ecwid.com/#products\"\r\n                rel=\"noreferrer\">\r\n                Go to the products page (click here)\r\n              </a>\r\n              .\r\n            </li>\r\n            <li className=\"Text--p\">\r\n              Choose the product you wish to recommend related products.\r\n            </li>\r\n            <li className=\"Text--p\">Click on the \"related products\" tab. </li>\r\n\r\n            <li className=\"Text--p\">\r\n              Click Enable (if you haven't set up related products for this item\r\n              before) and configure the products.\r\n              <img\r\n                className=\"Tutorial-image\"\r\n                src={relatedProductsImage}\r\n                alt=\"\"\r\n              />\r\n            </li>\r\n\r\n            <div className=\"Text--p\">\r\n              <br />\r\n              Detailed instructions can be{\" \"}\r\n              <a\r\n                target=\"_blank\"\r\n                href=\"https://support.ecwid.com/hc/en-us/articles/208078945-Related-products\"\r\n                rel=\"noreferrer\">\r\n                found here\r\n              </a>\r\n              .\r\n            </div>\r\n          </ol>\r\n        </div>\r\n        <figure className=\"Tutorial-figure\">\r\n          <img src={example} alt=\"\" />\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useStore } from \"./store/store\";\r\nimport \"./TotalProducts.scss\";\r\nimport { getProducts } from \"./utils\";\r\n\r\nexport default function TotalProducts() {\r\n  const [totalWithUpsell, setTotalWithUpsell] = useState(null);\r\n\r\n  const [settings, setSettings] = useState(null);\r\n  const [products, setProducts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    useStore.subscribe(\r\n      (state) => state.upsellProducts,\r\n      (e) => {\r\n        console.log(\"upsell products update from app!!!\", e);\r\n        setTotalWithUpsell(e);\r\n      },\r\n    );\r\n\r\n    useStore.subscribe(\r\n      (state) => state.settings,\r\n      (e) => {\r\n        setSettings(e);\r\n      },\r\n    );\r\n\r\n    (async () => {\r\n      setProducts(await getProducts());\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      data-total-products={totalWithUpsell ? totalWithUpsell.length : \"null\"}\r\n      className=\"TotalProducts\">\r\n      {settings ? (\r\n        <div className=\"TotalProducts-items\">\r\n          <div className=\"TotalProducts-item\">\r\n            {settings.isEnabled === false ? (\r\n              <div className=\"TotalProducts-image TotalProducts-image--x\">\r\n                <svg\r\n                  className=\"TotalProducts-icon--x\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n                  viewBox=\"0 0 460.775 460.775\"\r\n                  xmlSpace=\"preserve\">\r\n                  <path d=\"M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55  c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55  c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505  c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55  l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719  c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z\" />\r\n                </svg>\r\n              </div>\r\n            ) : (\r\n              <div className=\"TotalProducts-image\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 70 70\"\r\n                  focusable=\"false\">\r\n                  <path d=\"M32.17 46.67l-10.7-10.08c-.6-.57-.63-1.52-.06-2.12.57-.6 1.52-.63 2.12-.06l8.41 7.92 14.42-16.81c.54-.63 1.49-.7 2.12-.16.63.54.7 1.49.16 2.12L32.17 46.67z\" />\r\n                </svg>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"TotalProducts-content Text--h3\">\r\n              {settings.isEnabled\r\n                ? `The app is active and visible on the checkout page.`\r\n                : `The app is deactivated and not visible on the checkout page.`}\r\n            </div>\r\n          </div>\r\n          <div className=\"TotalProducts-item\">\r\n            {totalWithUpsell !== null && totalWithUpsell.length <= 0 ? (\r\n              <div className=\"TotalProducts-image TotalProducts-image--x\">\r\n                <svg\r\n                  className=\"TotalProducts-icon--x\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n                  viewBox=\"0 0 460.775 460.775\"\r\n                  xmlSpace=\"preserve\">\r\n                  <path d=\"M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55  c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55  c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505  c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55  l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719  c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z\" />\r\n                </svg>\r\n              </div>\r\n            ) : (\r\n              <div className=\"TotalProducts-image\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 70 70\"\r\n                  focusable=\"false\">\r\n                  <path d=\"M32.17 46.67l-10.7-10.08c-.6-.57-.63-1.52-.06-2.12.57-.6 1.52-.63 2.12-.06l8.41 7.92 14.42-16.81c.54-.63 1.49-.7 2.12-.16.63.54.7 1.49.16 2.12L32.17 46.67z\" />\r\n                </svg>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"TotalProducts-content Text--h3\">\r\n              {totalWithUpsell === null\r\n                ? \"Loading...\"\r\n                : totalWithUpsell.length >= 1\r\n                ? `You have ${totalWithUpsell.length} product(s) with related products setup. Yay!`\r\n                : totalWithUpsell.length <= 0 && (\r\n                    <>\r\n                      <span>\r\n                        {\" \"}\r\n                        There are no products with related products setup yet.\r\n                      </span>\r\n                      <br />\r\n                      <span className=\"Text--p\">\r\n                        Please follow the tutorial below to get started.\r\n                      </span>\r\n                    </>\r\n                  )}\r\n            </div>\r\n          </div>\r\n\r\n          {totalWithUpsell !== null &&\r\n            products &&\r\n            products.length >= 1 &&\r\n            products.hasOwnProperty(\"id\") &&\r\n            settings.isEnabled(\r\n              <div className=\"TotalProducts-item\">\r\n                <div className=\"TotalProducts-image TotalProducts-image--exclamation\">\r\n                  <svg\r\n                    xmlns=\" http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 32 32\"\r\n                    version=\"1.1\">\r\n                    <path d=\"M10.656 8.864q0-2.208 1.568-3.776t3.776-1.568 3.776 1.568 1.6 3.776q0 0.256-0.064 0.448l-1.76 6.944q-0.096 1.408-1.12 2.368t-2.432 0.96q-1.376 0-2.4-0.928t-1.152-2.304q-0.32-0.96-0.672-2.112t-0.736-2.784-0.384-2.592zM12.416 24.928q0-1.472 1.056-2.496t2.528-1.056 2.528 1.056 1.056 2.496q0 1.504-1.056 2.528t-2.528 1.056-2.528-1.056-1.056-2.528z\" />\r\n                  </svg>\r\n                </div>\r\n                <div className=\"TotalProducts-content Text--h3\">\r\n                  To test it, you can add{\" \"}\r\n                  <a\r\n                    target=\"_blank\"\r\n                    href={\r\n                      products.filter((e) => e.id === totalWithUpsell[0].id)[0]\r\n                        .url\r\n                    }\r\n                    rel=\"noreferrer\">\r\n                    this product{\" \"}\r\n                  </a>\r\n                  to cart and proceed to the checkout page. Make sure your cart\r\n                  is empty before testing.\r\n                </div>\r\n              </div>,\r\n            )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"TotalProducts-loading Text--h3\">Loading...</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport { useStore } from \"./store/store\";\nimport { shallow } from \"zustand/shallow\";\nimport Products from \"./Products\";\nimport { subscribeWithSelector } from \"zustand/middleware\";\nimport { create } from \"zustand\";\nimport Search from \"./Search\";\nimport { Placeholder } from \"./Placeholder\";\nimport Settings from \"./Settings\";\nimport { defaultSettings } from \"./utils\";\nimport { Filter } from \"./Filter\";\nimport HomepageSettings from \"./HomepageSettings\";\nimport TextContentBlock from \"./TextContentBlock\";\nimport Tutorial from \"./Tutorial\";\nimport TotalProducts from \"./TotalProducts\";\n\nfunction App() {\n  const [storeData, setStoreData] = useState(null);\n  const [upsellProducts, setUpsellProducts] = useState(null);\n  const [initiated, setInitiated] = useState(false);\n\n  const settings = useStore((state) => state.settings);\n  const setSettings = useStore((state) => state.setSettings);\n\n  function initDatabaseOnFirstInstall(value) {\n    value = JSON.parse(value);\n    let mustInit = false;\n\n    let initial = {};\n\n    try {\n      initial.upsellProducts = value.hasOwnProperty(\"upsellProducts\")\n        ? value.upsellProducts\n        : [];\n    } catch (err) {\n      initial.upsellProducts = [];\n    }\n\n    try {\n      initial.settings = value.hasOwnProperty(\"settings\")\n        ? Object.assign({}, defaultSettings, value.settings)\n        : defaultSettings;\n    } catch (err) {\n      initial.settings = defaultSettings;\n    }\n\n    console.log(\"Current database status:\", value);\n\n    if (mustInit) {\n      window.EcwidApp.setAppPublicConfig(JSON.stringify(initial), function (e) {\n        console.log(\"Fresh database setup!\", e);\n      });\n    }\n\n    // getUpsellProducts();\n\n    setUpsellProducts(initial.upsellProducts);\n    setSettings(initial.settings);\n\n    setInitiated(true);\n  }\n\n  useEffect(() => {\n    const data = window.EcwidApp.getPayload();\n\n    setStoreData(data);\n\n    if (!window.EcwidApp.getPayload()) {\n      /* Used for dev */\n      initDatabaseOnFirstInstall(\n        JSON.stringify({\n          upsellProducts: [],\n          settings: defaultSettings,\n        }),\n      );\n    }\n\n    if (window.EcwidApp && window.EcwidApp.getPayload() && !initiated) {\n      window.EcwidApp.getAppPublicConfig(function (value) {\n        console.log(\"has init?\", initiated, value);\n\n        initDatabaseOnFirstInstall(value);\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"EasyUpsellApp\">\n      <div className=\"EasyUpsellApp-container\">\n        <div className=\"named-area\">\n          <div className=\"named-area__body\">\n            <div className=\"a-card a-card--compact\">\n              <div className=\"EasyUpsellApp-block a-card__paddings\">\n                <TextContentBlock\n                  title={\"Checkout Upsell\"}\n                  subtitle={\"Status\"}\n                  additionalDescription={\n                    \"Show a carousel with products related to what your customer has added to cart on the checkout page.\"\n                  }\n                  description={\"Current status of the app.\"}>\n                  <TotalProducts></TotalProducts>\n                </TextContentBlock>\n\n                <TextContentBlock\n                  subtitle={\"Tutorial\"}\n                  description={\"How to setup related products.\"}>\n                  <Tutorial></Tutorial>\n                </TextContentBlock>\n\n                <TextContentBlock\n                  subtitle={\"App settings\"}\n                  description={\"Configure the app settings here.\"}>\n                  <HomepageSettings></HomepageSettings>\n                </TextContentBlock>\n                {/* <HomepageSettings></HomepageSettings> */}\n                {/* <Settings></Settings> */}\n                {/* <div style={{ display: \"flex\" }}>\n                  {upsellProducts && (\n                    <React.Fragment>\n                      <Filter upsellProducts={upsellProducts}></Filter>\n                      <Search></Search>\n                    </React.Fragment>\n                  )}\n                </div>\n                {upsellProducts ? (\n                  <Products upsellProducts={upsellProducts}></Products>\n                ) : (\n                  <Placeholder></Placeholder>\n                )} */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}