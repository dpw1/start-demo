{"version":3,"sources":["utils.js","store/store.js","PopupItem.js","PopupCustom.js","ProductItem.js","Products.js","Search.js","App.js","reportWebVitals.js","index.js"],"names":["sanitizeBundleProducts","productWithBundles","console","log","result","each","parentID","id","bundle","upsell","push","name","thumbnailUrl","defaultDisplayedPriceFormatted","compareToPriceDiscountFormatted","compareToPriceFormatted","url","useStore","create","subscribeWithSelector","set","get","products","visibleProducts","popupVisibleProducts","populateProducts","a","test","window","location","href","EcwidApp","getPayload","store_id","access_token","axios","data","updateVisibleProducts","updatePopupVisibleProducts","getProductById","items","filter","e","parseInt","upsellProducts","Promise","resolve","reject","hasOwnProperty","getAppPublicConfig","value","_data","JSON","parse","addUpsellProduct","bundleID","bundleProducts","_parentProduct","length","parentProduct","parent","bundleProduct","existingBundles","_existing","Symbol","iterator","Object","currentProduct","Set","_bundle","_updated","updated","payload","stringify","setAppPublicConfig","err","error","getUpsellProductById","res","deleteUpsellProductById","find","updatedBundle","getCurrentPopupProduct","undefined","setCurrentPopupProduct","PopupItem","product","state","currentProductID","useState","isAddable","setIsAddable","useEffect","_","className","src","alt","disabled","onClick","type","xmlns","viewBox","focusable","d","PopupCustom","map","ProductItem","props","data-upsell-products","_product","event","preventDefault","$item","document","querySelector","style","display","width","height","fillRule","clipRule","modal","onOpen","trigger","position","Products","x","Search","search","setSearch","allProducts","setAllProducts","productsStored","subscribe","found","toLowerCase","includes","placeholder","aria-label","onChange","target","App","storeData","setStoreData","setUpsellProducts","getUpsellProducts","ProductSkeleton","Fragment","count","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d201cfb7.chunk.js","sourcesContent":["/*\r\nCleans the bundle products. Requires an object like this:\r\n\r\n[\r\n    {\r\n    \"id\": 123,\r\n    \"bundle\": [\r\n            {\r\n            \"id\": 109109109,\r\n            sku: sdiasjdkajs\r\n            },\r\n            {\r\n            \"id\": 111,\r\n            sku: xxx\r\n            }\r\n        ]\r\n    }\r\n]\r\n*/\r\n\r\nexport function sleep(ms) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function sanitizeBundleProducts(productWithBundles) {\r\n  console.log(\"within sanitze: \", productWithBundles);\r\n  var result = [];\r\n\r\n  for (var each of productWithBundles) {\r\n    var parentID = each.id;\r\n    var bundle = [];\r\n\r\n    for (var upsell of each.bundle) {\r\n      bundle.push({\r\n        id: upsell.id,\r\n        name: upsell.name,\r\n        thumbnailUrl: upsell.thumbnailUrl,\r\n        defaultDisplayedPriceFormatted: upsell.defaultDisplayedPriceFormatted,\r\n        compareToPriceDiscountFormatted: upsell.compareToPriceDiscountFormatted,\r\n        compareToPriceFormatted: upsell.compareToPriceFormatted,\r\n        url: upsell.url,\r\n      });\r\n    }\r\n\r\n    result.push({\r\n      id: parentID,\r\n      bundle,\r\n    });\r\n  }\r\n\r\n  console.log(\"cleaning: \", result);\r\n\r\n  return result;\r\n}\r\n","import create from \"zustand\";\r\nimport axios from \"axios\";\r\nimport { sanitizeBundleProducts } from \"../utils\";\r\nimport { subscribeWithSelector } from \"zustand/middleware\";\r\n\r\nconst useStore = create(\r\n  subscribeWithSelector((set, get) => ({\r\n    /* ## API PRODUCTS\r\n    ==================================== */\r\n\r\n    /* ===============\r\n    All products on the store */\r\n    products: [],\r\n\r\n    /* ===============\r\n    Products that are being searched/currently visible. */\r\n    visibleProducts: [],\r\n\r\n    /* ===============\r\n    Products that are being searched/currently visible within a popup */\r\n    popupVisibleProducts: [],\r\n\r\n    /* ===============\r\n    Get store's products and add them to the store's 'products' variable */\r\n    populateProducts: async () => {\r\n      /* TODO = change this URL when on production */\r\n\r\n      const url = /localhost/.test(window.location.href)\r\n        ? `https://app.ecwid.com/api/v3/37374877/products?token=secret_EkQGe8SC4V4DHgSrnkmXsQsneDQ9JwQ4`\r\n        : `https://app.ecwid.com/api/v3/${\r\n            window.EcwidApp.getPayload().store_id\r\n          }/products?token=${window.EcwidApp.getPayload().access_token}`;\r\n\r\n      const { data: products } = await axios.get(url);\r\n\r\n      set({\r\n        products,\r\n        visibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* ===============\r\n    Update store's products. Typically used for search */\r\n    updateVisibleProducts: async (products) => {\r\n      set({\r\n        visibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* ===============\r\n    Update popup visible products. Typically used for search */\r\n    updatePopupVisibleProducts: async (products) => {\r\n      set({\r\n        popupVisibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* Get a product from the customer's catalog by ID API  */\r\n    getProductById: (id) => {\r\n      return get().products.items.filter((e) => e.id === parseInt(id))[0];\r\n    },\r\n\r\n    /* ## UPSELL PRODUCTS\r\n    ==================================== */\r\n\r\n    /* Get Bundle products that will show up at the front-end. */\r\n    upsellProducts: () => {\r\n      if (window.EcwidApp && window.EcwidApp.getPayload()) {\r\n        return new Promise(async (resolve, reject) => {\r\n          console.log(\"before: \", window.upsellProducts);\r\n          if (window.hasOwnProperty(\"upsellProducts\")) {\r\n            resolve(window.upsellProducts);\r\n            return;\r\n          } else {\r\n            console.log(\"upsell prods not found\", window.upsellProducts);\r\n            let data = [];\r\n\r\n            window.EcwidApp.getAppPublicConfig(function (value) {\r\n              const _data = JSON.parse(value);\r\n              // console.log(\"xxx ECWID PRE DATA\", _data);\r\n              data = data = _data.upsellProducts;\r\n              console.log(\"xxx ECWID DB DATA\", data, window.upsellProducts);\r\n\r\n              window.upsellProducts = data;\r\n              resolve(data);\r\n              return;\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      return [];\r\n    },\r\n\r\n    /* Adds a product to the upsell */\r\n    addUpsellProduct: async (parentID, bundleID) => {\r\n      let bundle;\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      const _parentProduct =\r\n        bundleProducts.length >= 1 &&\r\n        bundleProducts.filter((e) => e.id === parentID);\r\n\r\n      let parentProduct = _parentProduct.length >= 1 ? _parentProduct[0] : null;\r\n\r\n      console.log(\r\n        `Adding the bundle product ${bundleID} to ${\r\n          parentProduct ? `parent ${parentProduct.id}` : `new parent.`\r\n        }`,\r\n      );\r\n\r\n      /* Adds parent to bundle to show it up on front-end later on */\r\n      const parent = get().getProductById(parentID);\r\n\r\n      const bundleProduct = get().getProductById(bundleID);\r\n\r\n      console.log(\"Bundle product: \", bundleProduct);\r\n\r\n      /* If it's an already existing product, adds the extra bundle to it */\r\n      if (parentProduct) {\r\n        const existingBundles = () => {\r\n          const _existing = parentProduct.bundle;\r\n\r\n          if (Symbol.iterator in Object(_existing)) {\r\n            return [..._existing];\r\n          }\r\n\r\n          return [_existing];\r\n        };\r\n\r\n        bundle = [...existingBundles(), bundleProduct];\r\n\r\n        console.log(\"the Bundle : \", bundle);\r\n\r\n        bundleProducts = bundleProducts.filter((e) => e.id !== parentID);\r\n\r\n        console.log(bundleProducts);\r\n      }\r\n\r\n      /* In this \"one-line-if-else\", if the product is having a bundle for the first time,\r\n      it is added to the last line, adding both the parent and the first bundle. ([parent, bundleProduct]) */\r\n      const currentProduct = {\r\n        id: parentID,\r\n        bundle:\r\n          bundle && bundle.length >= 1\r\n            ? [...new Set(bundle)]\r\n            : [parent, bundleProduct],\r\n      };\r\n\r\n      const _bundle =\r\n        Symbol.iterator in Object(bundleProducts) ? [...bundleProducts] : [];\r\n\r\n      const _updated = [..._bundle, currentProduct];\r\n      const updated = sanitizeBundleProducts(_updated);\r\n\r\n      console.log(\"updated -- \", updated);\r\n\r\n      /* Save into Ecwid's database */\r\n      if (window.EcwidApp) {\r\n        try {\r\n          const payload = JSON.stringify({ upsellProducts: updated });\r\n\r\n          console.log(\"payload: \", { upsellProducts: updated });\r\n\r\n          window.EcwidApp.setAppPublicConfig(payload, function () {\r\n            console.log(\"New upsell product saved!\");\r\n          });\r\n        } catch (err) {\r\n          console.error(\r\n            \"Couldn't save upsell product. [store.js - addUpsellProduct()]\",\r\n          );\r\n        }\r\n      }\r\n\r\n      console.log(\"updated: \", updated);\r\n\r\n      set({\r\n        upsellProducts: updated,\r\n      });\r\n    },\r\n\r\n    /* Get the bundle/upsell products of a specific product ID */\r\n    getUpsellProductById: async (id) => {\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      const upsell = bundleProducts.filter((e) => e.id === id);\r\n\r\n      const res = upsell.length >= 1 ? upsell[0].bundle : [];\r\n      console.log(\"Bundle products:\", upsell, bundleProducts, id, res);\r\n      return res;\r\n    },\r\n\r\n    deleteUpsellProductById: async (parentID, bundleID) => {\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      let updated = [];\r\n\r\n      const parent = bundleProducts.find((e) => e.id === parentID);\r\n\r\n      if (!parent) {\r\n        console.log(\"parent is undefined!!!\");\r\n        return;\r\n      }\r\n\r\n      console.log(\"deleted bundle from parent: \", parent, parentID, bundleID);\r\n      const updatedBundle = parent.bundle.filter((e) => e.id !== bundleID);\r\n\r\n      /* If deleting the last item, remove parent as well.\r\n    We use the number \"1\" because we always add the parent as an upsell. */\r\n      if (updatedBundle.length <= 1) {\r\n        updated = bundleProducts.filter((e) => e.id !== parentID);\r\n      } else {\r\n        updated = bundleProducts;\r\n      }\r\n\r\n      parent.bundle = updatedBundle;\r\n\r\n      console.log(\"Updated after delete: \", updated);\r\n\r\n      if (window.EcwidApp) {\r\n        try {\r\n          window.EcwidApp.setAppPublicConfig(\r\n            JSON.stringify({ upsellProducts: updated }),\r\n            function () {\r\n              console.log(\"Public config saved!\");\r\n            },\r\n          );\r\n\r\n          console.log(\"Saved upsell products in Database\");\r\n        } catch (err) {}\r\n      }\r\n\r\n      set({\r\n        upsellProducts: updated,\r\n      });\r\n    },\r\n\r\n    /* ## POPUP PRODUCTS\r\n    ==================================== */\r\n\r\n    /* Get current product being edited in the Popup. */\r\n    getCurrentPopupProduct: undefined,\r\n\r\n    /* Updates current product being edited in the popup. */\r\n    setCurrentPopupProduct: (id) => {\r\n      set({\r\n        getCurrentPopupProduct: id,\r\n      });\r\n    },\r\n  })),\r\n);\r\n\r\nexport { useStore };\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useStore } from \"./store/store\";\r\n\r\nexport default function PopupItem({ product, parentID }) {\r\n  const addUpsellProduct = useStore((state) => state.addUpsellProduct);\r\n\r\n  const currentProductID = useStore((state) => state.getCurrentPopupProduct);\r\n  const getUpsellProductById = useStore((state) => state.getUpsellProductById);\r\n  const getCurrentPopupProduct = useStore(\r\n    (state) => state.getCurrentPopupProduct,\r\n  );\r\n\r\n  const [isAddable, setIsAddable] = useState(true);\r\n\r\n  const addBundleProduct = (id) => {\r\n    addUpsellProduct(currentProductID, id);\r\n    setIsAddable(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async (_) => {\r\n      const upsell = await getUpsellProductById(parentID);\r\n\r\n      console.log(upsell, parentID);\r\n\r\n      /* TODO \r\n      not working, probably parentID empty\r\n      */\r\n\r\n      if (upsell.filter((e) => e.id === product.id).length >= 1) {\r\n        setIsAddable(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"PopupItem  list-element list-element--compact list-element--has-hover list-element--inline-mode\">\r\n      <div className=\"list-element__image\">\r\n        <img src={product.thumbnailUrl} alt={product.name} />\r\n      </div>\r\n\r\n      <div className=\"list-element__content\">\r\n        <div className=\"list-element__info\">\r\n          <div className=\"list-element__header\">\r\n            <div className=\"list-element__main-info\">\r\n              <div className=\"list-element__title\">\r\n                <span>{product.name}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        disabled={isAddable ? false : true}\r\n        onClick={(_) => addBundleProduct(product.id)}\r\n        type=\"button\"\r\n        className=\"btn btn-small btn-primary\">\r\n        <span className=\"svg-icon\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 12 12\"\r\n            focusable=\"false\">\r\n            <path d=\"M6.712 5.314H11v1.39H6.712V11H5.267V6.706H1V5.314h4.267V1h1.446v4.314z\"></path>\r\n          </svg>\r\n        </span>\r\n        <span className=\"gwt-InlineLabel\">{isAddable ? \"Add\" : \"Added\"}</span>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport PopupItem from \"./PopupItem\";\r\n\r\nimport \"./PopupCustom.scss\";\r\nimport { useStore } from \"./store/store\";\r\n\r\nexport default function PopupCustom({ parentID }) {\r\n  const products = useStore((state) => state.products);\r\n\r\n  return (\r\n    <div className=\"PopupCustom\">\r\n      <div className=\"a-card__paddings\">\r\n        <h3 className=\"PopupCustom-title\">Products to upsell: </h3>\r\n      </div>\r\n      {products.items.map((e) => {\r\n        if (e.id === parentID) {\r\n          return;\r\n        }\r\n\r\n        return (\r\n          <PopupItem parentID={parentID} key={e.id} product={e}></PopupItem>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\nimport PopupCustom from \"./PopupCustom\";\r\nimport \"./ProductItem.scss\";\r\nimport { useStore } from \"./store/store\";\r\n\r\nimport Products from \"./Products\";\r\n\r\nexport default function ProductItem(props) {\r\n  const { product, upsell } = props;\r\n  // const [upsell, setUpsell] = useState([]);\r\n\r\n  const getUpsellProductById = useStore((state) => state.getUpsellProductById);\r\n  const deleteUpsellProductById = useStore(\r\n    (state) => state.deleteUpsellProductById,\r\n  );\r\n\r\n  const getCurrentPopupProduct = useStore(\r\n    (state) => state.getCurrentPopupProduct,\r\n  );\r\n  const getProductById = useStore((state) => state.getProductById);\r\n  const setCurrentPopupProduct = useStore(\r\n    (state) => state.setCurrentPopupProduct,\r\n  );\r\n\r\n  useEffect(() => {\r\n    // (async (_) => {\r\n    //   // handlePopulateUpsell();\r\n    // })();\r\n    // useStore.subscribe(async (e) => {\r\n    //   handlePopulateUpsell(e);\r\n    // });\r\n\r\n    console.log(\"my upsell: \", upsell);\r\n    if (upsell && upsell.length >= 1) {\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"current popup: \", getCurrentPopupProduct);\r\n  }, [getCurrentPopupProduct]);\r\n\r\n  const setProduct = () => {\r\n    console.log(\"setting current product: \", product.id);\r\n    setCurrentPopupProduct(product.id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ProductItem list-element list-element--compact list-element--has-hover list-element--inline-mode\">\r\n      <div className=\"list-element__image\">\r\n        <img src={product.thumbnailUrl} alt={product.name} />\r\n      </div>\r\n\r\n      <div className=\"list-element__content\">\r\n        <div className=\"list-element__info\">\r\n          <div className=\"list-element__header\">\r\n            <div className=\"list-element__main-info\">\r\n              <div className=\"list-element__title\">\r\n                <span>\r\n                  {product.name} {product.id}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"list-element__status-row\"\r\n            data-upsell-products={\r\n              upsell.hasOwnProperty(\"bundle\") ? upsell.bundle.length : 0\r\n            }>\r\n            {/* <span className=\"order__date-wrapper ProductItem-subtitle\">\r\n              Upsell Products:\r\n            </span> */}\r\n            <div className=\"list-element__data-row\">\r\n              {upsell &&\r\n                upsell.hasOwnProperty(\"bundle\") &&\r\n                upsell.bundle.map((e) => {\r\n                  const _product = e;\r\n\r\n                  /* If the upsell product is the same as the parent, do not add it to the list. */\r\n                  if (_product.id === product.id) {\r\n                    return;\r\n                  }\r\n\r\n                  return (\r\n                    <div\r\n                      key={`${_product.id}_${product.id}`}\r\n                      className={`ProductItem-upsell ProductItem-upsell--${_product.id}-${product.id}`}>\r\n                      <img\r\n                        className=\"ProductItem-image\"\r\n                        src={_product.thumbnailUrl}\r\n                        alt=\"\"\r\n                      />\r\n                      <span className=\"ProductItem-title spacing--mr1\">\r\n                        {_product.name}\r\n                      </span>\r\n\r\n                      <button\r\n                        className=\"ProductItem-delete icolink\"\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          console.log(\r\n                            `Delete ${_product.id} from the parent ${product.id}`,\r\n                          );\r\n                          deleteUpsellProductById(product.id, _product.id);\r\n                          try {\r\n                            const $item = window.document.querySelector(\r\n                              `.ProductItem-upsell--${_product.id}-${product.id}`,\r\n                            );\r\n\r\n                            if ($item) {\r\n                              $item.style.display = \"none\";\r\n                            }\r\n                          } catch (err) {\r\n                            console.log(\"Removing error\", err);\r\n                          }\r\n                        }}>\r\n                        <svg\r\n                          width={18}\r\n                          height={18}\r\n                          viewBox=\"0 0 18 18\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          focusable=\"false\">\r\n                          <path d=\"M7 0h4l1 2H6l1-2z\" />\r\n                          <path\r\n                            fillRule=\"evenodd\"\r\n                            clipRule=\"evenodd\"\r\n                            d=\"M2 3c-.5523 0-1 .4477-1 1s.4477 1 1 1v11c0 1.1046.8954 2 2 2h10c1.1046 0 2-.8954 2-2V5c.5523 0 1-.4477 1-1s-.4477-1-1-1H2zm12 13V5H4v11h10z\"\r\n                          />\r\n                          <path d=\"M6 7.5c0-.5523.4477-1 1-1s1 .4477 1 1v6c0 .5523-.4477 1-1 1s-1-.4477-1-1v-6zM10 7.5c0-.5523.4477-1 1-1s1 .4477 1 1v6c0 .5523-.4477 1-1 1s-1-.4477-1-1v-6z\" />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Popup\r\n        modal={true}\r\n        onOpen={() => {\r\n          setProduct();\r\n        }}\r\n        trigger={() => {\r\n          return (\r\n            <button type=\"button\" className=\"btn btn-small btn-primary\">\r\n              <span className=\"svg-icon\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 12 12\"\r\n                  focusable=\"false\">\r\n                  <path d=\"M6.712 5.314H11v1.39H6.712V11H5.267V6.706H1V5.314h4.267V1h1.446v4.314z\"></path>\r\n                </svg>\r\n              </span>\r\n              <span className=\"gwt-InlineLabel\">Add Upsell Products</span>\r\n            </button>\r\n          );\r\n        }}\r\n        position=\"center center\">\r\n        <PopupCustom parentID={product.id}></PopupCustom>\r\n      </Popup>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"./Products.scss\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport ProductPicker from \"./ProductPicker\";\r\nimport ProductItem from \"./ProductItem\";\r\nimport { useStore } from \"./store/store\";\r\n\r\nexport default function Products({ upsellProducts }) {\r\n  const populateProducts = useStore((state) => state.populateProducts);\r\n  const products = useStore((state) => state.visibleProducts);\r\n\r\n  useEffect(() => {\r\n    populateProducts();\r\n\r\n    console.log(\"total prods\", products);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Products  named-area\">\r\n      <div className=\"Products-items\">\r\n        {products &&\r\n          products.hasOwnProperty(\"items\") &&\r\n          upsellProducts &&\r\n          products.items.map((e) => (\r\n            <ProductItem\r\n              key={e.id}\r\n              product={e}\r\n              upsell={\r\n                upsellProducts.filter((x) => x.id === e.id).length >= 1\r\n                  ? upsellProducts.filter((x) => x.id === e.id)[0]\r\n                  : []\r\n              }></ProductItem>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport \"reactjs-popup/dist/index.css\";\r\nimport PopupCustom from \"./PopupCustom\";\r\nimport \"./Search.scss\";\r\nimport { useStore } from \"./store/store\";\r\n\r\nimport Products from \"./Products\";\r\n\r\nexport default function Search() {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n\r\n  let productsStored = false;\r\n\r\n  const databaseProducts = useStore((state) => state.products);\r\n  const updateVisibleProducts = useStore(\r\n    (state) => state.updateVisibleProducts,\r\n  );\r\n\r\n  useEffect(() => {\r\n    useStore.subscribe(\r\n      (state) => state.products,\r\n      (e) => {\r\n        if (productsStored) {\r\n          return;\r\n        }\r\n\r\n        if (e.hasOwnProperty(\"items\") && e.items.length >= 1) {\r\n          setAllProducts(e);\r\n          console.log(\"SEARCH!!!\", e);\r\n          productsStored = true;\r\n        }\r\n      },\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(allProducts);\r\n\r\n    if (search.length <= 0) {\r\n      console.log(\"updating all products\", allProducts);\r\n      updateVisibleProducts(allProducts);\r\n    }\r\n\r\n    if (allProducts && allProducts.items && allProducts.items.length >= 1) {\r\n      const found = allProducts.items.filter((e) => {\r\n        if (e.name.toLowerCase().includes(search.toLowerCase())) {\r\n          return e;\r\n        }\r\n\r\n        return null;\r\n      });\r\n\r\n      console.log(\"Found this: \", found);\r\n\r\n      const res = JSON.parse(JSON.stringify(allProducts));\r\n      res.items = found;\r\n\r\n      console.log(res);\r\n\r\n      updateVisibleProducts(res);\r\n    }\r\n  }, [search]);\r\n\r\n  return (\r\n    <div className=\"Search\">\r\n      <div className=\"field field--medium\">\r\n        <span className=\"fieldset__svg-icon\" style={{}}>\r\n          <svg\r\n            width={18}\r\n            height={18}\r\n            viewBox=\"0 0 18 18\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            focusable=\"false\">\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              clipRule=\"evenodd\"\r\n              d=\"M18 7c0 3.866-3.134 7-7 7-1.5724 0-3.0236-.5184-4.1922-1.3936l-4.1007 4.1007c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3906-.3905-1.0237 0-1.4143l4.1007-4.1007C4.5184 10.0236 4 8.5723 4 7c0-3.866 3.134-7 7-7s7 3.134 7 7zm-2 0c0 2.7614-2.2386 5-5 5S6 9.7614 6 7s2.2386-5 5-5 5 2.2386 5 5z\"\r\n            />\r\n          </svg>\r\n        </span>{\" \"}\r\n        <input\r\n          value={search}\r\n          type=\"text\"\r\n          className=\"field__input\"\r\n          id=\"gwt-uid-3188\"\r\n          placeholder=\"Search product\"\r\n          aria-label=\"Search product\"\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />{\" \"}\r\n        <span className=\"field-state--success\">\r\n          <svg\r\n            width={18}\r\n            height={18}\r\n            viewBox=\"0 0 18 18\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            focusable=\"false\">\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              clipRule=\"evenodd\"\r\n              d=\"M16.6508 2.7408c.4193.3594.4679.9907.1085 1.41l-9 10.5c-.3791.4423-1.0545.4682-1.4664.0563l-5-5c-.3905-.3905-.3905-1.0237 0-1.4142.3905-.3905 1.0237-.3905 1.4142 0l4.2364 4.2364 8.2972-9.68c.3595-.4194.9908-.468 1.4101-.1085z\"\r\n            />\r\n          </svg>\r\n        </span>{\" \"}\r\n        <span className=\"field-state--close\">\r\n          <svg\r\n            width={18}\r\n            height={18}\r\n            viewBox=\"0 0 18 18\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            focusable=\"false\">\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              clipRule=\"evenodd\"\r\n              d=\"M1.7929 1.7929c.3905-.3905 1.0237-.3905 1.4142 0L9 7.5858l5.7929-5.793c.3905-.3904 1.0237-.3904 1.4142 0 .3905.3906.3905 1.0238 0 1.4143L10.4142 9l5.7929 5.7929c.3905.3905.3905 1.0237 0 1.4142-.3905.3905-1.0237.3905-1.4142 0L9 10.4142l-5.7929 5.7929c-.3905.3905-1.0237.3905-1.4142 0-.3905-.3905-.3905-1.0237 0-1.4142L7.5858 9l-5.793-5.7929c-.3904-.3905-.3904-1.0237 0-1.4142z\"\r\n            />\r\n          </svg>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useStore } from \"./store/store\";\nimport { shallow } from \"zustand/shallow\";\nimport Products from \"./Products\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { subscribeWithSelector } from \"zustand/middleware\";\nimport { create } from \"zustand\";\nimport Search from \"./Search\";\n\nfunction App() {\n  const [storeData, setStoreData] = useState(null);\n  const [upsellProducts, setUpsellProducts] = useState(null);\n\n  const getUpsellProducts = useStore((state) => state.upsellProducts);\n\n  function initDatabaseOnFirstInstall() {\n    window.EcwidApp.setAppPublicConfig(\n      JSON.stringify({ upsellProducts: [] }),\n      function () {\n        console.log(\"New upasell product set up!\");\n      },\n    );\n  }\n\n  useEffect(() => {\n    const data = window.EcwidApp.getPayload();\n\n    setStoreData(data);\n\n    useStore.subscribe(\n      (state) => state.upsellProducts,\n      (e) => {\n        // setUpsellProducts(e);\n        console.log(\"upsell products update from app!\", e);\n      },\n    );\n  }, []);\n\n  useEffect(() => {\n    if (window.EcwidApp && window.EcwidApp.getPayload()) {\n      window.EcwidApp.getAppPublicConfig(function (value) {\n        if (!value) {\n          initDatabaseOnFirstInstall();\n        }\n      });\n    }\n\n    (async () => {\n      const upsell = await getUpsellProducts();\n      window.upsellProducts = upsell;\n      setUpsellProducts(upsell);\n\n      console.log(`There are ${upsell.length} products with upsells.`);\n    })();\n  }, [storeData]);\n\n  const ProductSkeleton = () => {\n    return (\n      <React.Fragment>\n        <div className=\"list-element list-element--compact list-element--has-hover list-element--inline-mode SkeletonLoader\">\n          <Skeleton count={1} height={50} />\n          <Skeleton count={3} height={7} />\n        </div>\n        <div className=\"list-element list-element--compact list-element--has-hover list-element--inline-mode SkeletonLoader\">\n          <Skeleton count={1} height={50} />\n          <Skeleton count={3} height={7} />\n        </div>\n        <div className=\"list-element list-element--compact list-element--has-hover list-element--inline-mode SkeletonLoader\">\n          <Skeleton count={1} height={50} />\n          <Skeleton count={3} height={7} />\n        </div>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <div className=\"EasyUpsellApp\">\n      <div className=\"EasyUpsellApp-container\">\n        <div className=\"named-area\">\n          <div className=\"named-area__body\">\n            <div className=\"a-card a-card--compact\">\n              <div className=\"a-card__paddings\">\n                <h1 className=\"Products-title settings-page__title spacing--mt2\">\n                  EZFY Cart Upsell\n                </h1>\n                <Search></Search>\n                {upsellProducts ? (\n                  <Products upsellProducts={upsellProducts}></Products>\n                ) : (\n                  <ProductSkeleton></ProductSkeleton>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}