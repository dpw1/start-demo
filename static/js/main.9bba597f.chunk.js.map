{"version":3,"sources":["utils.js","store/store.js","HomepageSettings.js","TextContentBlock.js","images/example-1.png","Tutorial.js","App.js","reportWebVitals.js","index.js"],"names":["defaultSettings","isEnabled","sanitizeUpsellProducts","products","console","log","_step2","productsWithUpsells","items","filter","e","relatedProducts","productIds","length","relatedCategory","enabled","totalOptions","upsell","hasOwnProperty","options","result","_iterator2","_createForOfIteratorHelper","s","n","done","_step3","each","value","parentID","id","bundle","_iterator3","_upsell","push","name","thumbnailUrl","defaultDisplayedPriceFormatted","compareToPriceDiscountFormatted","compareToPriceFormatted","url","err","f","localProductURL","test","window","location","href","concat","process","EcwidApp","getPayload","store_id","access_token","useStore","create","subscribeWithSelector","set","get","settings","visibleProducts","popupVisibleProducts","activeFilters","populateProducts","_populateProducts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","wrap","_context","prev","next","axios","sent","data","store__products","stop","apply","arguments","updateVisibleProducts","_updateVisibleProducts","_callee2","_context2","_x","updatePopupVisibleProducts","_updatePopupVisibleProducts","_callee3","_context3","_x2","getProductById","parseInt","upsellProducts","_upsellProducts","_callee5","_yield$axios$get2","_context5","abrupt","Promise","_ref","_callee4","resolve","reject","_context4","getAppPublicConfig","_data","JSON","parse","_x3","_x4","setStoreUpsellProducts","addUpsellProduct","_addUpsellProduct","_callee6","bundleID","bundleProducts","_parentProduct","parentProduct","parent","bundleProduct","existingBundles","currentProduct","_bundle","_updated","updated","payload","_context6","t0","_existing","Symbol","iterator","Object","_toConsumableArray","Set","stringify","setAppPublicConfig","error","_x5","_x6","getUpsellProductById","_getUpsellProductById","_callee7","res","_context7","_x7","deleteUpsellProductById","_deleteUpsellProductById","_callee8","updatedBundle","_context8","find","_x8","_x9","setSettings","_setSettings","_callee9","_context9","Error","_x10","setActiveFilters","_setActiveFilters","_callee10","newFilters","_args10","_context10","undefined","getCurrentPopupProduct","setCurrentPopupProduct","HomepageSettings","state","_useState","useState","_useState2","_slicedToArray","setIsEnabled","_useState3","_useState4","appTitle","setAppTitle","useEffect","_jsxs","className","children","_jsx","checked","onChange","type","data-on","data-off","placeholder","target","TextContentBlock","props","title","additionalDescription","subtitle","description","Tutorial","src","example","alt","App","setStoreData","setUpsellProducts","_useState5","_useState6","initiated","setInitiated","initDatabaseOnFirstInstall","initial","subscribe","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oUAAaA,EAAkB,CAC7BC,WAAW,GA2FN,SAASC,EAAuBC,GACrCC,QAAQC,IAAI,mBAAoBF,GAEhC,IAoBoCG,EApB9BC,EAAsBJ,EAASK,MAAMC,QACzC,SAACC,GAAC,OACAA,EAAEC,gBAAgBC,WAAWC,QAAU,GACvCH,EAAEC,gBAAgBG,gBAAgBC,WAGlCC,EAAe,SAACC,GAClB,OAAIA,EAAOC,eAAe,WACjBD,EAAOE,QAAQN,OAGpBI,EAAOC,eAAe,gBACjBD,EAAOD,aAGT,GAGLI,EAAS,GAAGC,EAAAC,YAECf,GAAmB,IAApC,IAAAc,EAAAE,MAAAjB,EAAAe,EAAAG,KAAAC,MAAsC,CAAC,IAIcC,EAJ5CC,EAAIrB,EAAAsB,MACPC,EAAWF,EAAKG,GAChBC,EAAS,GAAGC,EAAAV,YAEIK,EAAKhB,gBAAgBC,YAAU,IAAnD,IAAAoB,EAAAT,MAAAG,EAAAM,EAAAR,KAAAC,MAAqD,CAAC,IAA7CQ,EAAOP,EAAAE,MACVX,EAASd,EAASK,MAAMC,QAAO,SAACC,GAAC,OAAKA,EAAEoB,KAAOG,KAAS,GAE5D7B,QAAQC,IAAI4B,GAGZF,EAAOG,KAAK,CACVJ,GAAIb,EAAOa,GACXK,KAAMlB,EAAOkB,KACbC,aAAcnB,EAAOmB,aACrBC,+BAAgCpB,EAAOoB,+BACvCC,gCAAiCrB,EAAOqB,gCACxCC,wBAAyBtB,EAAOsB,wBAChCC,IAAKvB,EAAOuB,IACZxB,aAAcA,EAAaC,MAI/B,MAAAwB,GAAAT,EAAAtB,EAAA+B,GAAA,QAAAT,EAAAU,IACIf,EAAKhB,gBAAgBG,gBAAgBC,QAGzCK,EAAOc,KAAK,CACVJ,GAAID,EACJE,YAEH,MAAAU,GAAApB,EAAAX,EAAA+B,GAAA,QAAApB,EAAAqB,IAKD,OAHAtC,QAAQC,IAAI,aAAce,GAGnBA,E,YC5IHuB,EAAkB,YAAYC,KAAKC,OAAOC,SAASC,MACtC,wDAAfC,OACwDC,2CACxC,gCAAhBD,OAEEH,OAAOK,SAASC,aAAaC,SAAQ,oBAAAJ,OACpBH,OAAOK,SAASC,aAAaE,cAE9CC,EAAWC,IACfC,iCAAsB,SAACC,EAAKC,GAAG,MAAM,CAMnCC,SAAU3D,EAIVG,SAAU,GAIVyD,gBAAiB,GAIjBC,qBAAsB,GAItBC,cAAe,GAIfC,iBAAiB,WAAD,IAAAC,EAAAC,YAAAC,IAAAC,MAAE,SAAAC,IAAA,IAAA5B,EAAA6B,EAAAlE,EAAA,OAAA+D,IAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACW,OAArBjC,EAAMG,EAAe4B,EAAAE,KAAA,EAEMC,IAAMhB,IAAIlB,GAAK,KAAD,EAAA6B,EAAAE,EAAAI,KAAjCxE,EAAQkE,EAAdO,KAER/B,OAAOgC,gBAAkB1E,EAGzBsD,EAAI,CACFtD,WACAyD,gBAAiBzD,IAChB,wBAAAoE,EAAAO,UAAAV,OACJ,yBAAAJ,EAAAe,MAAA,KAAAC,YAZgB,GAgBjBC,sBAAsB,WAAD,IAAAC,EAAAjB,YAAAC,IAAAC,MAAE,SAAAgB,EAAOhF,GAAQ,OAAA+D,IAAAI,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,OACpChB,EAAI,CACFG,gBAAiBzD,IAChB,wBAAAiF,EAAAN,UAAAK,OACJ,gBAAAE,GAAA,OAAAH,EAAAH,MAAA,KAAAC,YAJqB,GAQtBM,2BAA2B,WAAD,IAAAC,EAAAtB,YAAAC,IAAAC,MAAE,SAAAqB,EAAOrF,GAAQ,OAAA+D,IAAAI,MAAA,SAAAmB,GAAA,cAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,OACzChB,EAAI,CACFI,qBAAsB1D,IACrB,wBAAAsF,EAAAX,UAAAU,OACJ,gBAAAE,GAAA,OAAAH,EAAAR,MAAA,KAAAC,YAJ0B,GAO3BW,eAAgB,SAAC7D,GACf,OAAO4B,IAAMvD,SAASK,MAAMC,QAAO,SAACC,GAAC,OAAKA,EAAEoB,KAAO8D,SAAS9D,MAAK,IAOnE+D,eAAe,WAAD,IAAAC,EAAA7B,YAAAC,IAAAC,MAAE,SAAA4B,IAAA,IAAAvD,EAAAwD,EAAA7F,EAAA,OAAA+D,IAAAI,MAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,OACa,OAArBjC,EAAMG,EAAesD,EAAAxB,KAAA,EAEMC,IAAMhB,IAAIlB,GAAK,KAAD,EAGtC,GAHsCwD,EAAAC,EAAAtB,KAAjCxE,EAAQ6F,EAAdpB,KAERxE,QAAQC,IAAIH,EAAuBC,KAG/B0C,OAAOK,WAAYL,OAAOK,SAASC,aAAY,CAAA8C,EAAAxB,KAAA,eAAAwB,EAAAC,OAAA,SAC1C,IAAIC,QAAO,eAAAC,EAAAnC,YAAAC,IAAAC,MAAC,SAAAkC,EAAOC,EAASC,GAAM,IAAA3B,EAAA,OAAAV,IAAAI,MAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,OACQ,GAA/CrE,QAAQC,IAAI,WAAYwC,OAAOgD,iBAE3BhD,OAAO3B,eAAe,kBAAkB,CAADsF,EAAA/B,KAAA,QACV,OAA/B6B,EAAQzD,OAAOgD,gBAAgBW,EAAAN,OAAA,iBAG/B9F,QAAQC,IAAI,yBAA0BwC,OAAOgD,gBACzCjB,EAAO,GAEX/B,OAAOK,SAASuD,oBAAmB,SAAU7E,GAC3C,IAAM8E,EAAQC,KAAKC,MAAMhF,GAGzB,KAFAgD,EAAOA,EAAO8B,EAAMb,gBAKlB,OAFAhD,OAAOgD,eAAiB,QACxBS,EAAQ,IAIVlG,QAAQC,IACN,sBACAqG,EACA9B,EACA/B,OAAOgD,gBAGThD,OAAOgD,eAAiBjB,EACxB0B,EAAQ1B,GAERnB,EAAI,CACFoC,eAAgBjB,OAIjB,wBAAA4B,EAAA1B,UAAAuB,OAEN,gBAAAQ,EAAAC,GAAA,OAAAV,EAAArB,MAAA,KAAAC,YArCiB,KAqChB,cAAAiB,EAAAC,OAAA,SAGG,IAAE,yBAAAD,EAAAnB,UAAAiB,OACV,yBAAAD,EAAAf,MAAA,KAAAC,YAlDc,GAoDf+B,uBAAwB,SAACnC,GACvBxE,QAAQC,IAAI,SAAUuE,GACtBnB,EAAI,CACFoC,eAAgBjB,KAKpBoC,iBAAiB,WAAD,IAAAC,EAAAhD,YAAAC,IAAAC,MAAE,SAAA+C,EAAOrF,EAAUsF,GAAQ,IAAApF,EAAAqF,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAlE,EAAAmE,EAAA,OAAA5D,IAAAI,MAAA,SAAAyD,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAtD,MAAA,UAGP,oBAAzBf,IAAMmC,eAA6B,CAAAkC,EAAAtD,KAAA,eAAAsD,EAAAtD,KAAA,EAChCf,IAAMmC,iBAAgB,OAAAkC,EAAAC,GAAAD,EAAApD,KAAAoD,EAAAtD,KAAA,sBAAAsD,EAAAtD,KAAA,EACtBf,IAAMmC,eAAe,KAAD,EAAAkC,EAAAC,GAAAD,EAAApD,KAAC,KAAD,EAkDA,GArD5ByC,EAAcW,EAAAC,GAKZX,EACJD,EAAevG,QAAU,GACzBuG,EAAe3G,QAAO,SAACC,GAAC,OAAKA,EAAEoB,KAAOD,KAEpCyF,EAAgBD,EAAexG,QAAU,EAAIwG,EAAe,GAAK,KAG/DE,EAAS7D,IAAMiC,eAAe9D,GAE9B2F,EAAgB9D,IAAMiC,eAAewB,GAGvCG,IACIG,EAAkB,WACtB,IAAMQ,EAAYX,EAAcvF,OAEhC,OAAImG,OAAOC,YAAYC,OAAOH,GAC5BI,YAAWJ,GAGN,CAACA,IAGVlG,EAAM,GAAAiB,OAAAqF,YAAOZ,KAAiB,CAAED,IAEhCJ,EAAiBA,EAAe3G,QAAO,SAACC,GAAC,OAAKA,EAAEoB,KAAOD,KAEvDzB,QAAQC,IAAI+G,IAKRM,EAAiB,CACrB5F,GAAID,EACJE,OACEA,GAAUA,EAAOlB,QAAU,EAACwH,YACpB,IAAIC,IAAIvG,IACZ,CAACwF,EAAQC,IAGXG,EACJO,OAAOC,YAAYC,OAAOhB,GAAeiB,YAAOjB,GAAkB,GAE9DQ,EAAQ,GAAA5E,OAAAqF,YAAOV,GAAO,CAAED,IACxBG,EAAU3H,EAAuB0H,GAEvCxH,QAAQC,IAAI,cAAewH,IAGvBhF,OAAOK,SAAS,CAAD6E,EAAAtD,KAAA,gBAAAsD,EAAAtD,KAAA,GACMf,IAAMC,SAAS,KAAD,GAA/BA,EAAQoE,EAAApD,KAEd,IACQmD,EAAUnB,KAAK4B,UAAU,CAAE5E,WAAUkC,eAAgBgC,IAE3DzH,QAAQC,IAAI,YAAa,CAAEwF,eAAgBgC,IAE3ChF,OAAOK,SAASsF,mBAAmBV,GAAS,WAC1C1H,QAAQC,IAAI,gCAEd,MAAOoC,GACPrC,QAAQqI,MACN,iEAEH,QAGHrI,QAAQC,IAAI,YAAawH,GAEzBpE,EAAI,CACFoC,eAAgBgC,IACf,yBAAAE,EAAAjD,UAAAoC,OACJ,gBAAAwB,EAAAC,GAAA,OAAA1B,EAAAlC,MAAA,KAAAC,YA/EgB,GAkFjB4D,qBAAqB,WAAD,IAAAC,EAAA5E,YAAAC,IAAAC,MAAE,SAAA2E,EAAOhH,GAAE,IAAAsF,EAAAnG,EAAA8H,EAAA,OAAA7E,IAAAI,MAAA,SAAA0E,GAAA,cAAAA,EAAAxE,KAAAwE,EAAAvE,MAAA,UAEK,oBAAzBf,IAAMmC,eAA6B,CAAAmD,EAAAvE,KAAA,eAAAuE,EAAAvE,KAAA,EAChCf,IAAMmC,iBAAgB,OAAAmD,EAAAhB,GAAAgB,EAAArE,KAAAqE,EAAAvE,KAAA,sBAAAuE,EAAAvE,KAAA,EACtBf,IAAMmC,eAAe,KAAD,EAAAmD,EAAAhB,GAAAgB,EAAArE,KAAC,KAAD,EAKiC,OAR7DyC,EAAc4B,EAAAhB,GAKZ/G,EAASmG,EAAe3G,QAAO,SAACC,GAAC,OAAKA,EAAEoB,KAAOA,KAE/CiH,EAAM9H,EAAOJ,QAAU,EAAII,EAAO,GAAGc,OAAS,GACpD3B,QAAQC,IAAI,mBAAoBY,EAAQmG,EAAgBtF,EAAIiH,GAAKC,EAAA9C,OAAA,SAC1D6C,GAAG,yBAAAC,EAAAlE,UAAAgE,OACX,gBAAAG,GAAA,OAAAJ,EAAA9D,MAAA,KAAAC,YAXoB,GAarBkE,wBAAwB,WAAD,IAAAC,EAAAlF,YAAAC,IAAAC,MAAE,SAAAiF,EAAOvH,EAAUsF,GAAQ,IAAAC,EAAAS,EAAAN,EAAA8B,EAAA1F,EAAA,OAAAO,IAAAI,MAAA,SAAAgF,GAAA,cAAAA,EAAA9E,KAAA8E,EAAA7E,MAAA,UAEd,oBAAzBf,IAAMmC,eAA6B,CAAAyD,EAAA7E,KAAA,eAAA6E,EAAA7E,KAAA,EAChCf,IAAMmC,iBAAgB,OAAAyD,EAAAtB,GAAAsB,EAAA3E,KAAA2E,EAAA7E,KAAA,sBAAA6E,EAAA7E,KAAA,EACtBf,IAAMmC,eAAe,KAAD,EAAAyD,EAAAtB,GAAAsB,EAAA3E,KAAC,KAAD,EAI6B,GAPzDyC,EAAckC,EAAAtB,GAKdH,EAAU,GAERN,EAASH,EAAemC,MAAK,SAAC7I,GAAC,OAAKA,EAAEoB,KAAOD,KAEvC,CAADyH,EAAA7E,KAAA,SAC6B,OAAtCrE,QAAQC,IAAI,0BAA0BiJ,EAAApD,OAAA,kBAiBO,GAb/C9F,QAAQC,IAAI,+BAAgCkH,EAAQ1F,EAAUsF,GACxDkC,EAAgB9B,EAAOxF,OAAOtB,QAAO,SAACC,GAAC,OAAKA,EAAEoB,KAAOqF,KAKzDU,EADEwB,EAAcxI,QAAU,EAChBuG,EAAe3G,QAAO,SAACC,GAAC,OAAKA,EAAEoB,KAAOD,KAEtCuF,EAGZG,EAAOxF,OAASsH,EAEhBjJ,QAAQC,IAAI,yBAA0BwH,IAElChF,OAAOK,SAAS,CAADoG,EAAA7E,KAAA,gBAAA6E,EAAA7E,KAAA,GACMf,IAAMC,SAAS,KAAD,GAA/BA,EAAQ2F,EAAA3E,KAEd,IACE9B,OAAOK,SAASsF,mBACd7B,KAAK4B,UAAU,CAAE5E,WAAUkC,eAAgBgC,KAC3C,WACEzH,QAAQC,IAAI,2BAIhBD,QAAQC,IAAI,qCACZ,MAAOoC,IAAO,QAGlBgB,EAAI,CACFoC,eAAgBgC,IACf,yBAAAyB,EAAAxE,UAAAsE,OACJ,gBAAAI,EAAAC,GAAA,OAAAN,EAAApE,MAAA,KAAAC,YAhDuB,GAkDxB0E,YAAY,WAAD,IAAAC,EAAA1F,YAAAC,IAAAC,MAAE,SAAAyF,EAAOjG,GAAQ,IAAAkC,EAAAiC,EAAA,OAAA5D,IAAAI,MAAA,SAAAuF,GAAA,cAAAA,EAAArF,KAAAqF,EAAApF,MAAA,UACrBd,EAAS,CAADkG,EAAApF,KAAA,cACL,IAAIqF,MAAM,sBAAsB,KAAD,KAIL,oBAAzBpG,IAAMmC,eAA6B,CAAAgE,EAAApF,KAAA,eAAAoF,EAAApF,KAAA,EAChCf,IAAMmC,iBAAgB,OAAAgE,EAAA7B,GAAA6B,EAAAlF,KAAAkF,EAAApF,KAAA,uBAAAoF,EAAApF,KAAA,GACtBf,IAAMmC,eAAe,KAAD,GAAAgE,EAAA7B,GAAA6B,EAAAlF,KAAC,KAAD,GAEhC,GALMkB,EAAcgE,EAAA7B,GAKhBnF,OAAOK,SACT,IACQ4E,EAAU,CAAEnE,WAAUkC,kBAE5BhD,OAAOK,SAASsF,mBACd7B,KAAK4B,UAAUT,IACf,SAAUpH,GACRN,QAAQC,IAAI,iCAAkCyH,MAIlD1H,QAAQC,IAAI,8BACZ,MAAOoC,IAGXgB,EAAI,CACFE,aACC,yBAAAkG,EAAA/E,UAAA8E,OACJ,gBAAAG,GAAA,OAAAJ,EAAA5E,MAAA,KAAAC,YA5BW,GA8BZgF,iBAAiB,WAAD,IAAAC,EAAAhG,YAAAC,IAAAC,MAAE,SAAA+F,IAAA,IAAAC,EAAAC,EAAApF,UAAA,OAAAd,IAAAI,MAAA,SAAA+F,GAAA,cAAAA,EAAA7F,KAAA6F,EAAA5F,MAAA,OAAwB,GAAjB0F,EAAUC,EAAAvJ,OAAA,QAAAyJ,IAAAF,EAAA,GAAAA,EAAA,GAAG,KACpB,CAADC,EAAA5F,KAAA,eAAA4F,EAAAnE,OAAA,iBAIf9F,QAAQC,IAAI8J,GAEZ1G,EAAI,CACFK,cAAeqG,IACd,wBAAAE,EAAAvF,UAAAoF,OACJ,yBAAAD,EAAAlF,MAAA,KAAAC,YAVgB,GAgBjBuF,4BAAwBD,EAGxBE,uBAAwB,SAAC1I,GACvB2B,EAAI,CACF8G,uBAAwBzI,U,0GC/UjB,SAAS2I,IACtB,IAAMf,EAAcpG,GAAS,SAACoH,GAAK,OAAKA,EAAMhB,eAC9CiB,EAAkCC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA1C1K,EAAS4K,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,EAAgCJ,mBAAS,0BAAyBK,EAAAH,YAAAE,EAAA,GAA3DE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GACtBtH,EAAWL,GAAS,SAACoH,GAAK,OAAKA,EAAM/G,YAM3C,OAJAyH,qBAAU,WACRL,EAAapH,EAAS1D,aACrB,CAAC0D,IAGF0H,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BF,eAAA,OAAKC,UAAU,yGAAwGC,SAAA,CACrHF,eAAA,OAAKC,UAAU,+BAA8BC,SAAA,CAC3CC,cAAA,KAAGF,UAAU,wBAAuBC,SAAC,0BAErCC,cAAA,KAAGF,UAAU,4BAA2BC,SACrCtL,EAAS,wCAGRoL,eAAA,QAAAE,SAAA,CAAM,cACOC,cAAA,KAAAD,SAAG,QAAO,gFAM7BC,cAAA,OAAKF,UAAU,wCAAuCC,SACpDF,eAAA,SAAOC,UAAU,iBAAgBC,SAAA,CAC/BC,cAAA,SACErJ,KAAK,GACLsJ,QAASxL,EACTyL,SAAU,WACRX,GAAc9K,GACdyJ,EAAY,CACVzJ,WAAYA,KAIhB0L,KAAK,aACJ,IACHN,eAAA,OACEC,UAAU,wBACVM,UAAQ,mCACRC,WAAS,kBAAiBN,SAAA,CACzB,IACDC,cAAA,UAAQ,YAGP,OAGTH,eAAA,OAAKC,UAAU,yEAAwEC,SAAA,CACrFF,eAAA,OAAKC,UAAU,+BAA8BC,SAAA,CAC3CC,cAAA,KAAGF,UAAU,wBAAuBC,SAAC,gBAErCC,cAAA,KAAGF,UAAU,4BAA2BC,SAAC,mEAI3CC,cAAA,OAAKF,UAAU,wCAAuCC,SACpDF,eAAA,OAAKC,UAAU,+BAA8BC,SAAA,CAC3CC,cAAA,SACEG,KAAK,OACLL,UAAU,eACVQ,YAAY,iBACZlK,MAAOsJ,EACPQ,SAAU,SAAChL,GAAC,OAAKyK,EAAYzK,EAAEqL,OAAOnK,UACrC,SAEA,U,OCxEA,SAASoK,EAAiBC,GACvC,OACEZ,eAAA,OAAKC,UAAU,mBAAkBC,SAAA,CAC/BC,cAAA,MAAIF,UAAU,yBAAwBC,SAAEU,EAAMC,QAC9CV,cAAA,KAAGF,UAAU,uEAAsEC,SAChFU,EAAME,wBAGTd,eAAA,OAAKC,UAAU,6BAA4BC,SAAA,CACzCF,eAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACpCC,cAAA,MAAIF,UAAU,4BAA2BC,SAAEU,EAAMG,WACjDZ,cAAA,KAAGF,UAAU,+BAA8BC,SACxCU,EAAMI,aAA4C,oBAAtBJ,EAAMI,YAC/BJ,EAAMI,cACNJ,EAAMI,iBAIdb,cAAA,OAAKF,UAAU,yBAAwBC,SAAEU,EAAMV,iB,WCrBxC,MAA0B,sCCI1B,SAASe,IACtB,OACEd,cAAA,OAAKF,UAAU,WAAUC,SACvBF,eAAA,OAAKC,UAAU,qBAAoBC,SAAA,CACjCF,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC5BC,cAAA,KAAGF,UAAU,iCAAgCC,SAAC,wCAG9CC,cAAA,OAAKF,UAAU,UAASC,SAAC,wGAKzBC,cAAA,SAEAA,cAAA,OAAKF,UAAU,UAASC,SAAC,6FAIzBF,eAAA,MAAAE,SAAA,CACEC,cAAA,MAAIF,UAAU,UAASC,SAAC,yEAIxBC,cAAA,MAAIF,UAAU,UAASC,SAAC,gFAIxBC,cAAA,MAAIF,UAAU,UAASC,SAAC,oFAM5BC,cAAA,UAAQF,UAAU,kBAAiBC,SACjCC,cAAA,OAAKe,IAAKC,EAASC,IAAI,YCyGlBC,MAhIf,WACE,IAAA/B,EAAkCC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAA9BgC,GAAF9B,EAAA,GAAcA,EAAA,IAC9BG,EAA4CJ,mBAAS,MAAKK,EAAAH,YAAAE,EAAA,GAAnC4B,GAAF3B,EAAA,GAAmBA,EAAA,IACxC4B,EAAkCjC,oBAAS,GAAMkC,EAAAhC,YAAA+B,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAGxBpD,GADWpG,GAAS,SAACoH,GAAK,OAAKA,EAAM/G,YACvBL,GAAS,SAACoH,GAAK,OAAKA,EAAMhB,gBAI9C,SAASuD,EAA2BrL,GAClCA,EAAQ+E,KAAKC,MAAMhF,GACnB,IAEIsL,EAAU,CAEdA,eAAyB,IAOzB,IACEA,EAAQvJ,SAAW/B,EAAMV,eAAe,YAAcU,EAAM+B,SAAW,GACvE,MAAOlB,GACPyK,EAAQvJ,SAAW,GAGrBvD,QAAQC,IAAI,8BAjBG,MAiBsC6M,GACrD9M,QAAQC,IAAI,OAAQuB,GAQpBgL,EAAkBM,EAAQrH,gBAC1B6D,EAAYwD,EAAQvJ,UAEpBqJ,GAAa,GAyCf,OA1E0B1J,GAAS,SAACoH,GAAK,OAAKA,EAAM7E,kBAoCpDuF,qBAAU,WACR,IAAMxG,EAAO/B,OAAOK,SAASC,aAE7BwJ,EAAa/H,GAEbtB,EAAS6J,WACP,SAACzC,GAAK,OAAKA,EAAM7E,kBACjB,SAACnF,GACCN,QAAQC,IAAI,mCAAoCK,MAIpD4C,EAAS6J,WACP,SAACzC,GAAK,OAAKA,EAAM/G,YACjB,SAACjD,GACCN,QAAQC,IAAI,4BAA6BK,MAIxCmC,OAAOK,SAASC,cAEnB8J,EACEtG,KAAK4B,UAAU,CACb1C,eAAgB,GAChBlC,SAAU3D,KAKZ6C,OAAOK,UAAYL,OAAOK,SAASC,eAAiB4J,GACtDlK,OAAOK,SAASuD,oBAAmB,SAAU7E,GAC3CxB,QAAQC,IAAI,YAAa0M,EAAWnL,GAEpCqL,EAA2BrL,QAG9B,IAGD4J,cAAA,OAAKF,UAAU,gBAAeC,SAC5BC,cAAA,OAAKF,UAAU,0BAAyBC,SACtCC,cAAA,OAAKF,UAAU,aAAYC,SACzBC,cAAA,OAAKF,UAAU,mBAAkBC,SAC/BC,cAAA,OAAKF,UAAU,yBAAwBC,SACrCF,eAAA,OAAKC,UAAU,uCAAsCC,SAAA,CACnDC,cAACQ,EAAgB,CACfE,MAAO,kBACPE,SAAU,UACVD,sBACE,sGAEFE,YAAa,2CAA2Cd,SACxDC,cAACc,EAAQ,MAGXd,cAACQ,EAAgB,CACfI,SAAU,eACVC,YAAa,mCAAmCd,SAChDC,cAACf,EAAgB,oBC1GpB2C,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K","file":"static/js/main.9bba597f.chunk.js","sourcesContent":["export const defaultSettings = {\r\n  isEnabled: true,\r\n};\r\n\r\nexport function getProductURLHref(productID) {\r\n  const id = /localhost/.test(window.location.href)\r\n    ? \"37374877\"\r\n    : window.EcwidApp.getPayload().store_id;\r\n\r\n  const url = `https://my.ecwid.com/store/${id}#product:mode=edit&id=${productID}`;\r\n\r\n  return url;\r\n}\r\n\r\nexport const availableFilters = [\r\n  {\r\n    value: \"show_products_with_upsell\",\r\n    label: \"Show only products with upsells\",\r\n  },\r\n  /* TODO - alphabetical order, recently added, hide disabled */\r\n];\r\n\r\nexport function sleep(ms) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function findEqualById(arr1, arr2) {\r\n  try {\r\n    return arr1.filter((obj1) => arr2.some((obj2) => obj2.id === obj1.id));\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function overwriteById(arr, newObj) {\r\n  try {\r\n    const updatedArray = arr.map((obj) =>\r\n      obj.id === newObj.id ? newObj : obj,\r\n    );\r\n    return updatedArray;\r\n  } catch (err) {\r\n    return [];\r\n  }\r\n}\r\n\r\n/* Returns object of new visible products */\r\nexport function applyFiltersOnProducts(\r\n  visibleProducts,\r\n  upsellProducts,\r\n  activeFilters,\r\n) {\r\n  if (!activeFilters || activeFilters.length <= 0) {\r\n    return visibleProducts;\r\n  }\r\n\r\n  var products = JSON.parse(JSON.stringify(visibleProducts));\r\n\r\n  for (var each of activeFilters) {\r\n    if (each.value === \"show_products_with_upsell\") {\r\n      console.log(\"apply upd - products\", products, upsellProducts);\r\n\r\n      var filtered = findEqualById(products.items, upsellProducts);\r\n\r\n      console.log(\"apply - filtered\", filtered);\r\n      products.items = filtered;\r\n\r\n      return products;\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\nCleans the bundle products removing all unnecessary properties. \r\n\r\nRequires an object like this:\r\n\r\n[\r\n    {\r\n    \"id\": 123,\r\n    \"bundle\": [\r\n            {\r\n            \"id\": 109109109,\r\n            sku: sdiasjdkajs\r\n            },\r\n            {\r\n            \"id\": 111,\r\n            sku: xxx\r\n            }\r\n        ]\r\n    }\r\n]\r\n*/\r\nexport function sanitizeUpsellProducts(products) {\r\n  console.log(\"within sanitze: \", products);\r\n\r\n  const productsWithUpsells = products.items.filter(\r\n    (e) =>\r\n      e.relatedProducts.productIds.length >= 1 ||\r\n      e.relatedProducts.relatedCategory.enabled,\r\n  );\r\n\r\n  let totalOptions = (upsell) => {\r\n    if (upsell.hasOwnProperty(\"options\")) {\r\n      return upsell.options.length;\r\n    }\r\n\r\n    if (upsell.hasOwnProperty(\"totalOptions\")) {\r\n      return upsell.totalOptions;\r\n    }\r\n\r\n    return 0;\r\n  };\r\n\r\n  var result = [];\r\n\r\n  for (var each of productsWithUpsells) {\r\n    var parentID = each.id;\r\n    var bundle = [];\r\n\r\n    for (var _upsell of each.relatedProducts.productIds) {\r\n      var upsell = products.items.filter((e) => e.id === _upsell)[0];\r\n\r\n      console.log(_upsell);\r\n      debugger;\r\n\r\n      bundle.push({\r\n        id: upsell.id,\r\n        name: upsell.name,\r\n        thumbnailUrl: upsell.thumbnailUrl,\r\n        defaultDisplayedPriceFormatted: upsell.defaultDisplayedPriceFormatted,\r\n        compareToPriceDiscountFormatted: upsell.compareToPriceDiscountFormatted,\r\n        compareToPriceFormatted: upsell.compareToPriceFormatted,\r\n        url: upsell.url,\r\n        totalOptions: totalOptions(upsell),\r\n      });\r\n    }\r\n\r\n    /* Random categories here */\r\n    if (each.relatedProducts.relatedCategory.enabled) {\r\n    }\r\n\r\n    result.push({\r\n      id: parentID,\r\n      bundle,\r\n    });\r\n  }\r\n\r\n  console.log(\"cleaning: \", result);\r\n  debugger;\r\n\r\n  return result;\r\n}\r\n","import create from \"zustand\";\r\nimport axios from \"axios\";\r\nimport {\r\n  defaultSettings,\r\n  overwriteById,\r\n  sanitizeUpsellProducts,\r\n} from \"../utils\";\r\n\r\nimport { subscribeWithSelector } from \"zustand/middleware\";\r\n\r\nconst localProductURL = /localhost/.test(window.location.href)\r\n  ? /* local dev */\r\n    `https://app.ecwid.com/api/v3/37374877/products?token=${process.env.REACT_APP_TOKEN}`\r\n  : /* production */\r\n    `https://app.ecwid.com/api/v3/${\r\n      window.EcwidApp.getPayload().store_id\r\n    }/products?token=${window.EcwidApp.getPayload().access_token}`;\r\n\r\nconst useStore = create(\r\n  subscribeWithSelector((set, get) => ({\r\n    /* ## API PRODUCTS\r\n    ==================================== */\r\n\r\n    /* ===============\r\n    App settings */\r\n    settings: defaultSettings,\r\n\r\n    /* ===============\r\n    All products on the store */\r\n    products: [],\r\n\r\n    /* ===============\r\n    Products that are being searched/currently visible. */\r\n    visibleProducts: [],\r\n\r\n    /* ===============\r\n    Products that are being searched/currently visible within a popup */\r\n    popupVisibleProducts: [],\r\n\r\n    /* ===============\r\n    All filters to visualize products */\r\n    activeFilters: [],\r\n\r\n    /* ===============\r\n    Get store's products and add them to the store's 'products' variable */\r\n    populateProducts: async () => {\r\n      const url = localProductURL;\r\n\r\n      const { data: products } = await axios.get(url);\r\n\r\n      window.store__products = products;\r\n      // debugger;\r\n\r\n      set({\r\n        products,\r\n        visibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* ===============\r\n    Update store's products. Typically used for search */\r\n    updateVisibleProducts: async (products) => {\r\n      set({\r\n        visibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* ===============\r\n    Update popup visible products. Typically used for search */\r\n    updatePopupVisibleProducts: async (products) => {\r\n      set({\r\n        popupVisibleProducts: products,\r\n      });\r\n    },\r\n\r\n    /* Get a product from the customer's catalog by ID API  */\r\n    getProductById: (id) => {\r\n      return get().products.items.filter((e) => e.id === parseInt(id))[0];\r\n    },\r\n\r\n    /* ## UPSELL PRODUCTS\r\n    ==================================== */\r\n\r\n    /* Get Bundle products that will show up at the front-end. */\r\n    upsellProducts: async () => {\r\n      const url = localProductURL;\r\n\r\n      const { data: products } = await axios.get(url);\r\n\r\n      console.log(sanitizeUpsellProducts(products));\r\n      debugger;\r\n\r\n      if (window.EcwidApp && window.EcwidApp.getPayload()) {\r\n        return new Promise(async (resolve, reject) => {\r\n          console.log(\"before: \", window.upsellProducts);\r\n\r\n          if (window.hasOwnProperty(\"upsellProducts\")) {\r\n            resolve(window.upsellProducts);\r\n            return;\r\n          } else {\r\n            console.log(\"upsell prods not found\", window.upsellProducts);\r\n            let data = [];\r\n\r\n            window.EcwidApp.getAppPublicConfig(function (value) {\r\n              const _data = JSON.parse(value);\r\n              data = data = _data.upsellProducts;\r\n\r\n              if (!data) {\r\n                window.upsellProducts = [];\r\n                resolve([]);\r\n                return;\r\n              }\r\n\r\n              console.log(\r\n                \"xxx 33ECWID DB DATA\",\r\n                _data,\r\n                data,\r\n                window.upsellProducts,\r\n              );\r\n\r\n              window.upsellProducts = data;\r\n              resolve(data);\r\n\r\n              set({\r\n                upsellProducts: data,\r\n              });\r\n\r\n              return;\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      return [];\r\n    },\r\n\r\n    setStoreUpsellProducts: (data) => {\r\n      console.log(\"data: \", data);\r\n      set({\r\n        upsellProducts: data,\r\n      });\r\n    },\r\n\r\n    /* Adds a product to the upsell */\r\n    addUpsellProduct: async (parentID, bundleID) => {\r\n      let bundle;\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      const _parentProduct =\r\n        bundleProducts.length >= 1 &&\r\n        bundleProducts.filter((e) => e.id === parentID);\r\n\r\n      let parentProduct = _parentProduct.length >= 1 ? _parentProduct[0] : null;\r\n\r\n      /* Adds parent to bundle to show it up on front-end later on */\r\n      const parent = get().getProductById(parentID);\r\n\r\n      const bundleProduct = get().getProductById(bundleID);\r\n\r\n      /* If it's an already existing product, adds the extra bundle to it */\r\n      if (parentProduct) {\r\n        const existingBundles = () => {\r\n          const _existing = parentProduct.bundle;\r\n\r\n          if (Symbol.iterator in Object(_existing)) {\r\n            return [..._existing];\r\n          }\r\n\r\n          return [_existing];\r\n        };\r\n\r\n        bundle = [...existingBundles(), bundleProduct];\r\n\r\n        bundleProducts = bundleProducts.filter((e) => e.id !== parentID);\r\n\r\n        console.log(bundleProducts);\r\n      }\r\n\r\n      /* In this \"one-line-if-else\", if the product is having a bundle for the first time,\r\n      it is added to the last line, adding both the parent and the first bundle. ([parent, bundleProduct]) */\r\n      const currentProduct = {\r\n        id: parentID,\r\n        bundle:\r\n          bundle && bundle.length >= 1\r\n            ? [...new Set(bundle)]\r\n            : [parent, bundleProduct],\r\n      };\r\n\r\n      const _bundle =\r\n        Symbol.iterator in Object(bundleProducts) ? [...bundleProducts] : [];\r\n\r\n      const _updated = [..._bundle, currentProduct];\r\n      const updated = sanitizeUpsellProducts(_updated);\r\n\r\n      console.log(\"updated -- \", updated);\r\n\r\n      /* Save into Ecwid's database */\r\n      if (window.EcwidApp) {\r\n        const settings = await get().settings;\r\n\r\n        try {\r\n          const payload = JSON.stringify({ settings, upsellProducts: updated });\r\n\r\n          console.log(\"payload: \", { upsellProducts: updated });\r\n\r\n          window.EcwidApp.setAppPublicConfig(payload, function () {\r\n            console.log(\"New upsell product saved!\");\r\n          });\r\n        } catch (err) {\r\n          console.error(\r\n            \"Couldn't save upsell product. [store.js - addUpsellProduct()]\",\r\n          );\r\n        }\r\n      }\r\n\r\n      console.log(\"updated: \", updated);\r\n\r\n      set({\r\n        upsellProducts: updated,\r\n      });\r\n    },\r\n\r\n    /* Get the bundle/upsell products of a specific product ID */\r\n    getUpsellProductById: async (id) => {\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      const upsell = bundleProducts.filter((e) => e.id === id);\r\n\r\n      const res = upsell.length >= 1 ? upsell[0].bundle : [];\r\n      console.log(\"Bundle products:\", upsell, bundleProducts, id, res);\r\n      return res;\r\n    },\r\n\r\n    deleteUpsellProductById: async (parentID, bundleID) => {\r\n      let bundleProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      let updated = [];\r\n\r\n      const parent = bundleProducts.find((e) => e.id === parentID);\r\n\r\n      if (!parent) {\r\n        console.log(\"parent is undefined!!!\");\r\n        return;\r\n      }\r\n\r\n      console.log(\"deleted bundle from parent: \", parent, parentID, bundleID);\r\n      const updatedBundle = parent.bundle.filter((e) => e.id !== bundleID);\r\n\r\n      /* If deleting the last item, remove parent as well.\r\n    We use the number \"1\" because we always add the parent as an upsell. */\r\n      if (updatedBundle.length <= 1) {\r\n        updated = bundleProducts.filter((e) => e.id !== parentID);\r\n      } else {\r\n        updated = bundleProducts;\r\n      }\r\n\r\n      parent.bundle = updatedBundle;\r\n\r\n      console.log(\"Updated after delete: \", updated);\r\n\r\n      if (window.EcwidApp) {\r\n        const settings = await get().settings;\r\n\r\n        try {\r\n          window.EcwidApp.setAppPublicConfig(\r\n            JSON.stringify({ settings, upsellProducts: updated }),\r\n            function () {\r\n              console.log(\"Public config saved!\");\r\n            },\r\n          );\r\n\r\n          console.log(\"Saved upsell products in Database\");\r\n        } catch (err) {}\r\n      }\r\n\r\n      set({\r\n        upsellProducts: updated,\r\n      });\r\n    },\r\n\r\n    setSettings: async (settings) => {\r\n      if (!settings) {\r\n        throw new Error(\"no settings object\");\r\n      }\r\n\r\n      const upsellProducts =\r\n        typeof get().upsellProducts === \"function\"\r\n          ? await get().upsellProducts()\r\n          : await get().upsellProducts;\r\n\r\n      if (window.EcwidApp) {\r\n        try {\r\n          const payload = { settings, upsellProducts };\r\n\r\n          window.EcwidApp.setAppPublicConfig(\r\n            JSON.stringify(payload),\r\n            function (e) {\r\n              console.log(\"Public config saved. Payload: \", payload);\r\n            },\r\n          );\r\n\r\n          console.log(\"Saved settings in Database\");\r\n        } catch (err) {}\r\n      }\r\n\r\n      set({\r\n        settings,\r\n      });\r\n    },\r\n\r\n    setActiveFilters: async (newFilters = null) => {\r\n      if (!newFilters) {\r\n        return;\r\n      }\r\n\r\n      console.log(newFilters);\r\n\r\n      set({\r\n        activeFilters: newFilters,\r\n      });\r\n    },\r\n\r\n    /* ## POPUP PRODUCTS\r\n    ==================================== */\r\n\r\n    /* Get current product being edited in the Popup. */\r\n    getCurrentPopupProduct: undefined,\r\n\r\n    /* Updates current product being edited in the popup. */\r\n    setCurrentPopupProduct: (id) => {\r\n      set({\r\n        getCurrentPopupProduct: id,\r\n      });\r\n    },\r\n  })),\r\n);\r\n\r\nexport { useStore };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./HomepageSettings.scss\";\r\n\r\nimport { useStore } from \"./store/store\";\r\n\r\nexport default function HomepageSettings() {\r\n  const setSettings = useStore((state) => state.setSettings);\r\n  const [isEnabled, setIsEnabled] = useState(false);\r\n  const [appTitle, setAppTitle] = useState(\"Complete your purchase\");\r\n  const settings = useStore((state) => state.settings);\r\n\r\n  useEffect(() => {\r\n    setIsEnabled(settings.isEnabled);\r\n  }, [settings]);\r\n\r\n  return (\r\n    <div className=\"HomepageSettings\">\r\n      <div className=\"HomepageSettings-item HomepageSettings-item--checkbox form-area__content form-area__content--no-margin\">\r\n        <div className=\"HomepageSettings-description\">\r\n          <p className=\"HomepageSettings-text\">Show on checkout page</p>\r\n\r\n          <p className=\"HomepageSettings-subtitle\">\r\n            {isEnabled ? (\r\n              `The app is enabled on the storefront.`\r\n            ) : (\r\n              <span>\r\n                The app is <b>not</b> enabled on the storefront. It will not\r\n                show up on the checkout page.\r\n              </span>\r\n            )}\r\n          </p>\r\n        </div>\r\n        <div className=\"HomepageSettings-setting text-default\">\r\n          <label className=\"checkbox micro\">\r\n            <input\r\n              name=\"\"\r\n              checked={isEnabled}\r\n              onChange={() => {\r\n                setIsEnabled(!isEnabled);\r\n                setSettings({\r\n                  isEnabled: !isEnabled,\r\n                });\r\n                return;\r\n              }}\r\n              type=\"checkbox\"\r\n            />{\" \"}\r\n            <div\r\n              className=\"HomepageSettings-text\"\r\n              data-on=\"App is enabled on the storefront\"\r\n              data-off=\"App is disabled\">\r\n              {\" \"}\r\n              <div />{\" \"}\r\n            </div>\r\n          </label>\r\n        </div>{\" \"}\r\n      </div>\r\n\r\n      <div className=\"HomepageSettings-item form-area__content form-area__content--no-margin\">\r\n        <div className=\"HomepageSettings-description\">\r\n          <p className=\"HomepageSettings-text\">App's title</p>\r\n\r\n          <p className=\"HomepageSettings-subtitle\">\r\n            Text that is shown above the carousel on the checkout page.\r\n          </p>\r\n        </div>\r\n        <div className=\"HomepageSettings-setting text-default\">\r\n          <div className=\"HomepageSettings-field field\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"field__input\"\r\n              placeholder=\"Carousel title\"\r\n              value={appTitle}\r\n              onChange={(e) => setAppTitle(e.target.value)}\r\n            />{\" \"}\r\n          </div>\r\n        </div>{\" \"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./TextContentBlock.scss\";\r\n\r\nexport default function TextContentBlock(props) {\r\n  return (\r\n    <div className=\"TextContentBlock\">\r\n      <h2 className=\"TextContentBlock-title\">{props.title}</h2>\r\n      <p className=\"TextContentBlock-description TextContentBlock-additional-description\">\r\n        {props.additionalDescription}\r\n      </p>\r\n\r\n      <div className=\"TextContentBlock-container\">\r\n        <div className=\"TextContentBlock-left\">\r\n          <h3 className=\"TextContentBlock-subtitle\">{props.subtitle}</h3>\r\n          <p className=\"TextContentBlock-description\">\r\n            {props.description && typeof props.description === \"function\"\r\n              ? props.description()\r\n              : props.description}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"TextContentBlock-right\">{props.children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/example-1.2dbf34c7.png\";","import React from \"react\";\r\nimport \"./Tutorial.scss\";\r\nimport example from \"./images/example-1.png\"; // Import the image\r\n\r\nexport default function Tutorial() {\r\n  return (\r\n    <div className=\"Tutorial\">\r\n      <div className=\"Tutorial-container\">\r\n        <div className=\"Tutorial-left\">\r\n          <p className=\"HomepageSettings-text Text--h3\">\r\n            Offer products at the checkout page\r\n          </p>\r\n          <div className=\"Text--p\">\r\n            This app creates a carousel with recommendations based on what your\r\n            customer has added to the cart.\r\n          </div>\r\n\r\n          <br />\r\n\r\n          <div className=\"Text--p\">\r\n            These recommendations are configured manually. To configure it,\r\n            please do the following:\r\n          </div>\r\n          <ol>\r\n            <li className=\"Text--p\">\r\n              Choose one of your products from the list below in the next\r\n              section.\r\n            </li>\r\n            <li className=\"Text--p\">\r\n              Once you've found it, click on \"Add Upsell Products.\" A popup will\r\n              appear.\r\n            </li>\r\n            <li className=\"Text--p\">\r\n              In this popup, choose the products you'd like to display on the\r\n              carousel.\r\n            </li>\r\n          </ol>\r\n        </div>\r\n        <figure className=\"Tutorial-figure\">\r\n          <img src={example} alt=\"\" />\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport { useStore } from \"./store/store\";\nimport { shallow } from \"zustand/shallow\";\nimport Products from \"./Products\";\nimport { subscribeWithSelector } from \"zustand/middleware\";\nimport { create } from \"zustand\";\nimport Search from \"./Search\";\nimport { Placeholder } from \"./Placeholder\";\nimport Settings from \"./Settings\";\nimport { defaultSettings } from \"./utils\";\nimport { Filter } from \"./Filter\";\nimport HomepageSettings from \"./HomepageSettings\";\nimport TextContentBlock from \"./TextContentBlock\";\nimport Tutorial from \"./Tutorial\";\n\nfunction App() {\n  const [storeData, setStoreData] = useState(null);\n  const [upsellProducts, setUpsellProducts] = useState(null);\n  const [initiated, setInitiated] = useState(false);\n\n  const settings = useStore((state) => state.settings);\n  const setSettings = useStore((state) => state.setSettings);\n\n  const getUpsellProducts = useStore((state) => state.upsellProducts);\n\n  function initDatabaseOnFirstInstall(value) {\n    value = JSON.parse(value);\n    let mustInit = false;\n\n    let initial = {};\n\n    initial.upsellProducts = [];\n    // try {\n    //   initial.upsellProducts = value.hasOwnProperty(\"upsellProducts\")\n    //     ? value.upsellProducts\n    //     : [];\n    // } catch (err) {}\n\n    try {\n      initial.settings = value.hasOwnProperty(\"settings\") ? value.settings : [];\n    } catch (err) {\n      initial.settings = [];\n    }\n\n    console.log(\"!Must create new database? \", mustInit, initial);\n    console.log(\"vaue\", value);\n\n    if (mustInit) {\n      window.EcwidApp.setAppPublicConfig(JSON.stringify(initial), function (e) {\n        console.log(\"Fresh database setup!\", e);\n      });\n    }\n\n    setUpsellProducts(initial.upsellProducts);\n    setSettings(initial.settings);\n\n    setInitiated(true);\n  }\n\n  useEffect(() => {\n    const data = window.EcwidApp.getPayload();\n\n    setStoreData(data);\n\n    useStore.subscribe(\n      (state) => state.upsellProducts,\n      (e) => {\n        console.log(\"upsell products update from app!\", e);\n      },\n    );\n\n    useStore.subscribe(\n      (state) => state.settings,\n      (e) => {\n        console.log(\"settings update from app!\", e);\n      },\n    );\n\n    if (!window.EcwidApp.getPayload()) {\n      /* Used for dev */\n      initDatabaseOnFirstInstall(\n        JSON.stringify({\n          upsellProducts: [],\n          settings: defaultSettings,\n        }),\n      );\n    }\n\n    if (window.EcwidApp && window.EcwidApp.getPayload() && !initiated) {\n      window.EcwidApp.getAppPublicConfig(function (value) {\n        console.log(\"has init?\", initiated, value);\n\n        initDatabaseOnFirstInstall(value);\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"EasyUpsellApp\">\n      <div className=\"EasyUpsellApp-container\">\n        <div className=\"named-area\">\n          <div className=\"named-area__body\">\n            <div className=\"a-card a-card--compact\">\n              <div className=\"EasyUpsellApp-block a-card__paddings\">\n                <TextContentBlock\n                  title={\"Checkout Upsell\"}\n                  subtitle={\"Summary\"}\n                  additionalDescription={\n                    \"Show a carousel with products related to what your customer has added to cart on the checkout page.\"\n                  }\n                  description={\"Brief explanation on how to get started.\"}>\n                  <Tutorial></Tutorial>\n                </TextContentBlock>\n\n                <TextContentBlock\n                  subtitle={\"App settings\"}\n                  description={\"Configure the app settings here.\"}>\n                  <HomepageSettings></HomepageSettings>\n                </TextContentBlock>\n                {/* <HomepageSettings></HomepageSettings> */}\n                {/* <Settings></Settings> */}\n                {/* <div style={{ display: \"flex\" }}>\n                  {upsellProducts && (\n                    <React.Fragment>\n                      <Filter upsellProducts={upsellProducts}></Filter>\n                      <Search></Search>\n                    </React.Fragment>\n                  )}\n                </div>\n                {upsellProducts ? (\n                  <Products upsellProducts={upsellProducts}></Products>\n                ) : (\n                  <Placeholder></Placeholder>\n                )} */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}